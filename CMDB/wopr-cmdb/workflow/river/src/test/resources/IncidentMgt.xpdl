<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<xpdl:Package xmlns:xpdl="http://www.wfmc.org/2008/XPDL2.1" xmlns="http://www.wfmc.org/2008/XPDL2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Id="Package_incidentmgt" xsi:schemaLocation="http://www.wfmc.org/2008/XPDL2.1 http://www.wfmc.org/standards/docs/bpmnxpdl_31.xsd">
    <xpdl:PackageHeader>
        <xpdl:XPDLVersion>2.1</xpdl:XPDLVersion>
        <xpdl:Vendor/>
        <xpdl:Created/>
    </xpdl:PackageHeader>
    <xpdl:Script Type="text/java"/>
    <xpdl:TypeDeclarations>
        <xpdl:TypeDeclaration Id="Reference">
            <xpdl:ExternalReference location="org.cmdbuild.workflow.type.ReferenceType"/>
        </xpdl:TypeDeclaration>
        <xpdl:TypeDeclaration Id="References">
            <xpdl:ExternalReference location="org.cmdbuild.workflow.type.ReferenceType&lt;&gt;"/>
        </xpdl:TypeDeclaration>
        <xpdl:TypeDeclaration Id="Lookup">
            <xpdl:ExternalReference location="org.cmdbuild.workflow.type.LookupType"/>
        </xpdl:TypeDeclaration>
        <xpdl:TypeDeclaration Id="Lookups">
            <xpdl:ExternalReference location="org.cmdbuild.workflow.type.LookupType&lt;&gt;"/>
        </xpdl:TypeDeclaration>
    </xpdl:TypeDeclarations>
    <xpdl:Participants>
        <xpdl:Participant Id="System">
            <xpdl:ParticipantType Type="SYSTEM"/>
        </xpdl:Participant>
        <xpdl:Participant Id="SuperUser">
            <xpdl:ParticipantType Type="ROLE"/>
        </xpdl:Participant>
        <xpdl:Participant Id="Guest">
            <xpdl:ParticipantType Type="ROLE"/>
        </xpdl:Participant>
    </xpdl:Participants>
    <xpdl:Pools>
        <xpdl:Pool BoundaryVisible="true" Id="Package_incidentmgt_pool1" MainPool="true" Name="Process_incidentmgt" Orientation="HORIZONTAL" Process="Process_incidentmgt">
            <xpdl:Lanes>
                <xpdl:Lane Id="Package_incidentmgt_pool1_lan1" Name="Guest">
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                    </xpdl:NodeGraphicsInfos>
                    <xpdl:Performers>
                        <xpdl:Performer>Guest</xpdl:Performer>
                    </xpdl:Performers>
                </xpdl:Lane>
                <xpdl:Lane Id="Package_incidentmgt_pool1_lan2" Name="Expression lane">
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Lane>
            </xpdl:Lanes>
            <xpdl:NodeGraphicsInfos>
                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </xpdl:NodeGraphicsInfos>
        </xpdl:Pool>
        <xpdl:Pool BoundaryVisible="true" Id="Package_incidentmgt_pool2" MainPool="true" Name="Process_incidentmgt_ase1" Orientation="HORIZONTAL" Process="SetOpeningData">
            <xpdl:Lanes>
                <xpdl:Lane Id="Package_incidentmgt_pool2_lan1" Name="Expression lane">
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Lane>
            </xpdl:Lanes>
            <xpdl:NodeGraphicsInfos>
                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </xpdl:NodeGraphicsInfos>
        </xpdl:Pool>
        <xpdl:Pool BoundaryVisible="true" Id="Package_incidentmgt_pool3" MainPool="true" Name="Process_incidentmgt_ase1" Orientation="HORIZONTAL" Process="AwakeChildrenProcesses">
            <xpdl:Lanes>
                <xpdl:Lane Id="Package_incidentmgt_pool3_lan1" Name="SuperUser">
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                    </xpdl:NodeGraphicsInfos>
                    <xpdl:Performers>
                        <xpdl:Performer>SuperUser</xpdl:Performer>
                    </xpdl:Performers>
                </xpdl:Lane>
            </xpdl:Lanes>
            <xpdl:NodeGraphicsInfos>
                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </xpdl:NodeGraphicsInfos>
        </xpdl:Pool>
    </xpdl:Pools>
    <xpdl:WorkflowProcesses>
        <xpdl:WorkflowProcess AccessLevel="PUBLIC" Id="Process_incidentmgt">
            <xpdl:ProcessHeader/>
            <xpdl:DataFields>
                <xpdl:DataField Id="Action" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Answer" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Area" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CIsArray" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="References"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CMExtDescr" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CMShortDescr" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTHDSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CTSPSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Category" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Channel" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ClosureTimestamp" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Code" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Confirm" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="BOOLEAN"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CreationTimestamp" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CurrentPerformer" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CurrentRole" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="CurrentUser" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Description" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ExpectedClosureDate" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ExtDescr" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="FlowStatus" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDAnalysisAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDAnalysisNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDAnalysisTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDClassificAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDClassificNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDClosureAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDClosureNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDExecAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDExecNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDExecTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDNextRole" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDStartCMAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDStartCMNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDSuggOperator" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDSuspAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDSuspNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="HDSuspType" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Impact" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="IncidentArray" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="References"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="KB" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="KBArray" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="References"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="LastHelpdesk" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="MailContent" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="MailFromAddress" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="MailSubject" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="MailToAddress" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Message" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Notes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Number" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="OpeningChannel" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Outcome" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="PrevHDAnalysisTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="PrevHDExecTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="PrevSPAnalysisTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="PrevSPExecTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Priority" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ProcessCode" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ProcessStatus" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ProcessStatusLookupName" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                    <xpdl:InitialValue>ITProc - ProcessStatus</xpdl:InitialValue>
                </xpdl:DataField>
                <xpdl:DataField Id="Process_incidentmgt_df1" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Register" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="RelatedITProc" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Requester" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPAnalysisAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPAnalysisNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPAnalysisTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPClassificAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPClassificNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPClosureAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPClosureNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPExecAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPExecNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPExecTime" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPNextRole" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPStartCMAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPStartCMNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPSuggOperator" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPSuspAction" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPSuspNotes" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="SPSuspType" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STHDSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="STSPSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="DATETIME"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="ShortDescr" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Subcategory" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Reference"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTHDSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPAnalysis" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPClassification" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPClosure" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPExecution" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPStartCM" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="TTSPSuspension" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="FLOAT"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="UniqueProcessDefinition" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="Urgency" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="Lookup"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="functionLibrary" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                    <xpdl:InitialValue ScriptType="text/java">import org.apache.commons.lang3.StringUtils;
import java.text.SimpleDateFormat;

import org.cmdbuild.shark.Logging;
import org.slf4j.LoggerFactory;
import org.slf4j.Logger;

logger = LoggerFactory.getLogger(Logging.LOGGER_NAME);


clearRelationList(domainName) {
	cardList = cmdb.queryRelations(ProcessClass, ProcessId.intValue())
		.withDomain(domainName)
		.fetch();

	for (card: cardList) {
		cmdb.existingRelation(domainName)
			.withCard1(ProcessClass, ProcessId.intValue())
			.withCard2(card.getClassName(), card.getId())
			.delete();
	}
}

updateRelationList(array, domainName) {
	for (cardRef: array) {
		try {
			card = cmdb.cardDescriptorFrom(cardRef);
			cmdb.newRelation(domainName)
				.withCard1(ProcessClass, ProcessId.intValue())
				.withCard2(card.getClassName(), card.getId())
				.create();
		} catch (Exception e) {	
			logger.debug("Exception raised creating a new relation for domain: "+domainName +" [incident: "+ProcessId+" card: "+card.getId()+"]");
		}
	}
}
setRegister(activityName,outcome,notes,time) {
	currentDate = Calendar.getInstance().getTime();
	dateFormatter = new SimpleDateFormat("dd/MM/yyyy HH:mm");
	formattedDate = dateFormatter.format(currentDate);
	register =  "&lt;b&gt;"+ _CurrentUserUsername + " - " + formattedDate + "&lt;/b&gt;&lt;br/&gt;" + activityName;
	
	if(StringUtils.isNotEmpty(outcome)){
		register += " - "+outcome;
	}
	register +="&lt;br/&gt;";
	
	if(StringUtils.isNotEmpty(notes)){
		register += notes;
	}

	if(time.floatValue()&gt;0){
		register += "Time spent: "+time+" hours&lt;br/&gt; "; 
	}
	register +="&lt;br/&gt;";
	return register;
}</xpdl:InitialValue>
                </xpdl:DataField>
                <xpdl:DataField Id="processId" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="INTEGER"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="reportURL" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:BasicType Type="STRING"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="servicesArray" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="References"/>
                    </xpdl:DataType>
                </xpdl:DataField>
                <xpdl:DataField Id="voidArray" IsArray="false">
                    <xpdl:DataType>
                        <xpdl:DeclaredType Id="References"/>
                    </xpdl:DataType>
                </xpdl:DataField>
            </xpdl:DataFields>
            <xpdl:ActivitySets>
                <xpdl:ActivitySet Id="SetOpeningData">
                    <xpdl:Activities>
                        <xpdl:Activity Id="Process_incidentmgt_act3">
                            <xpdl:Event>
                                <xpdl:StartEvent Trigger="None"/>
                            </xpdl:Event>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool2_lan1" ToolId="JaWE" Width="31">
                                    <xpdl:Coordinates XCoordinate="196" YCoordinate="54"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                        <xpdl:Activity Id="Process_incidentmgt_act6">
                            <xpdl:Event>
                                <xpdl:EndEvent Result="None"/>
                            </xpdl:Event>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool2_lan1" ToolId="JaWE" Width="31">
                                    <xpdl:Coordinates XCoordinate="476" YCoordinate="55"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                        <xpdl:Activity Id="SYS01-SetOpeningData" Name="SYS01-SetOpeningData">
                            <xpdl:Implementation>
                                <xpdl:Task>
                                    <xpdl:TaskScript>
                                        <xpdl:Script ScriptType="text/java">eval(functionLibrary);

CreationTimestamp = Calendar.getInstance().getTime();
spResultSet = cmdb.callFunction("wf_incidentmgt_number").execute();
Number = "IM" + spResultSet.get("number");
Description = Number +" "+StringUtils.substring(ShortDescr,0,199);

ProcessStatus = cmdb.selectLookupByCode("ITProc - ProcessStatus","Classification");

processId=ProcessId;</xpdl:Script>
                                    </xpdl:TaskScript>
                                </xpdl:Task>
                            </xpdl:Implementation>
                            <xpdl:Performers>
                                <xpdl:Performer/>
                            </xpdl:Performers>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool2_lan1" ToolId="JaWE" Width="90">
                                    <xpdl:Coordinates XCoordinate="308" YCoordinate="40"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                    </xpdl:Activities>
                    <xpdl:Transitions>
                        <xpdl:Transition From="Process_incidentmgt_act3" Id="Process_incidentmgt_tra6" To="SYS01-SetOpeningData">
                            <xpdl:ConnectorGraphicsInfos>
                                <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </xpdl:ConnectorGraphicsInfos>
                        </xpdl:Transition>
                        <xpdl:Transition From="SYS01-SetOpeningData" Id="Process_incidentmgt_tra7" To="Process_incidentmgt_act6">
                            <xpdl:ConnectorGraphicsInfos>
                                <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </xpdl:ConnectorGraphicsInfos>
                        </xpdl:Transition>
                    </xpdl:Transitions>
                </xpdl:ActivitySet>
                <xpdl:ActivitySet Id="AwakeChildrenProcesses">
                    <xpdl:Activities>
                        <xpdl:Activity Id="Process_incidentmgt_act12">
                            <xpdl:Event>
                                <xpdl:StartEvent Trigger="None"/>
                            </xpdl:Event>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool3_lan1" ToolId="JaWE" Width="31">
                                    <xpdl:Coordinates XCoordinate="104" YCoordinate="49"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                        <xpdl:Activity Id="SYS99-AwakeChildrenProcesses" Name="SYS99 - Awake children processes">
                            <xpdl:Implementation>
                                <xpdl:Task>
                                    <xpdl:TaskScript>
                                        <xpdl:Script ScriptType="text/java">eval(functionLibrary);

relatedIMs=cmdb.queryClass(ProcessClass)
		.with("RelatedITProc",ProcessId.intValue())
		.fetch();

for(im:relatedIMs){
	try {
		cmdb.existingProcessInstance(im.getClassName(), im.getId()).resume();

		cmdb.existingProcessInstance(im.getClassName(), im.getId())
		    .with("Answer", Answer)
		    .with("Outcome", Outcome)
		    .with("HDClosureNotes", HDClosureNotes)
		    .with("SPClosureNotes", SPClosureNotes)
		    .advance();

	} catch (Exception e) {
			logger.warn("Problem trying to resume related incident: "+im.getId(),e);
	}
}</xpdl:Script>
                                    </xpdl:TaskScript>
                                </xpdl:Task>
                            </xpdl:Implementation>
                            <xpdl:Performers>
                                <xpdl:Performer/>
                            </xpdl:Performers>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool3_lan1" ToolId="JaWE" Width="90">
                                    <xpdl:Coordinates XCoordinate="227" YCoordinate="39"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                        <xpdl:Activity Id="Process_incidentmgt_act13">
                            <xpdl:Event>
                                <xpdl:EndEvent Result="None"/>
                            </xpdl:Event>
                            <xpdl:NodeGraphicsInfos>
                                <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool3_lan1" ToolId="JaWE" Width="31">
                                    <xpdl:Coordinates XCoordinate="453" YCoordinate="53"/>
                                </xpdl:NodeGraphicsInfo>
                            </xpdl:NodeGraphicsInfos>
                        </xpdl:Activity>
                    </xpdl:Activities>
                    <xpdl:Transitions>
                        <xpdl:Transition From="Process_incidentmgt_act12" Id="Process_incidentmgt_tra49" To="SYS99-AwakeChildrenProcesses">
                            <xpdl:ConnectorGraphicsInfos>
                                <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </xpdl:ConnectorGraphicsInfos>
                        </xpdl:Transition>
                        <xpdl:Transition From="SYS99-AwakeChildrenProcesses" Id="Process_incidentmgt_tra50" To="Process_incidentmgt_act13">
                            <xpdl:ConnectorGraphicsInfos>
                                <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </xpdl:ConnectorGraphicsInfos>
                        </xpdl:Transition>
                    </xpdl:Transitions>
                </xpdl:ActivitySet>
            </xpdl:ActivitySets>
            <xpdl:Activities>
                <xpdl:Activity Id="Process_incidentmgt_act1">
                    <xpdl:Event>
                        <xpdl:StartEvent Trigger="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="85" YCoordinate="126"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act2">
                    <xpdl:Event>
                        <xpdl:EndEvent Result="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="1890" YCoordinate="260"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM02-HDOpening" Name="IM02 - Helpdesk opening">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>"{dbtmpl:IncidentMgt-HDPerformers}"</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="OpeningChannel"/>
                        <xpdl:ExtendedAttribute Name="adminStart" Value="true"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="140" YCoordinate="113"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM01-UserOpening" Name="IM01 - User opening">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>Guest</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Area"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan1" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="149" YCoordinate="33"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM03-HDClassification" Name="IM03 - Helpdesk classification">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RelatedITProc"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Urgency"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impact"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDClassificNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDClassificAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDNextRole"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;IncidentMgt&quot;&#13;&#10; ButtonLabel=&quot;All IMs from requester&quot;&#13;&#10; NoSelect=1&#13;&#10; Filter=&quot;from IncidentMgt where Requester = {server:Requester}&quot;"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Linked incidents&quot;&#13;&#10;Filter=&quot;from IncidentMgt where RelatedITProc = {xa:processid}&quot;&#13;&#10;processid=ProcessId&#13;&#10;&#13;NoSelect=1&#13;&#10;IncidentArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;DefaultSelection=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select id from wf_incidentmgt_getcisrequester({server:Requester.Id}))/)&quot;&#13;&#10;CIsArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;DefaultSelection=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select id from wf_incidentmgt_getservicerequester({server:Requester.Id}) )/)&quot;&#13;&#10;servicesArray&#13;&#10;process=ProcessId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;&#13;&#10;Template=&quot;IM03-Escalation-ToRole&quot;&#13;&#10;Condition=&quot;{js:IM03-Escalation-ToRole-condition}&quot;&#13;&#10;NotifyWith=&quot;IM-EmailReceivedNotification&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="531" YCoordinate="204"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act4">
                    <xpdl:Event>
                        <xpdl:StartEvent Trigger="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan1" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="76" YCoordinate="44"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM09-SPOpening" Name="IM09 - Specialist opening">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>"{dbtmpl:IncidentMgt-SPPerformers}"</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="OpeningChannel"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="179" YCoordinate="581"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act5">
                    <xpdl:Event>
                        <xpdl:StartEvent Trigger="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="117" YCoordinate="594"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM04-HDAnalysis" Name="IM04 - Helpdesk analysis">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDAnalysisNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="PrevHDAnalysisTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDAnalysisTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDAnalysisAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;KnowledgeBase&quot;&#13;&#10;ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;SingleSelect=1&#13;&#10;KBArray"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="771" YCoordinate="208"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM06-HDExecution" Name="IM06- Helpdesk execution">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDExecNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="PrevHDExecTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDExecTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDExecAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1029" YCoordinate="117"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM05-HDStartCM1" Name="IM05- Start change from helpdesk">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CMShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="CMExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDStartCMNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDStartCMAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="900" YCoordinate="118"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM07-HDSuspension" Name="IM07- Helpdesk suspension">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDSuspType"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDSuspNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDSuspAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1315" YCoordinate="28"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM08-HDClosure" Name="IM08- Helpdesk closure">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Outcome"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="KB"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Answer"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="HDClosureNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="HDClosureAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="presetFromCard" Value="ButtonLabel=&quot;Select from knowledge base&quot;&#13;&#10;ClassName=&quot;KnowledgeBase&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id = {client:KB.Id}&quot;&#13;&#10;AttributeMapping=&quot;Answer=Text&quot;&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;KnowledgeBase&quot;&#13;&#10;ObjId=client:KnowledgeBase&#13;&#10;ButtonLabel=&quot;Add new  knowledge base&quot;&#13;&#10;Title=&quot;ShortDescr&quot;&#13;&#10;Text=&quot;{client:Answer}&quot;&#13;&#10;KB"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;&#13;&#10;Template=&quot;IM08-Closure-ToRequester&quot;&#13;&#10;NotifyWith=&quot;IM-EmailReceivedNotification&quot;&#13;&#10;Condition=&quot;{js:IM08-Closure-ToRequester-condition}&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1587" YCoordinate="366"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM10-SPClassification" Name="IM10 - Specialist classification">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RelatedITProc"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Urgency"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impact"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPClassificNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPClassificAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPNextRole"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Linked incidents&quot;&#13;&#10;Filter=&quot;from IncidentMgt where Requester = {server:Requester.Id}&quot;&#13;&#10;IncidentArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;DefaultSelection=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select id from wf_incidentmgt_getcisrequester({server:Requester.Id}))/)&quot;&#13;&#10;CIsArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Affected services&quot;&#13;&#10;DefaultSelection=&#13;&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select id from wf_incidentmgt_getservicerequester({server:Requester.Id}) )/)&quot;&#13;&#10;servicesArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;&#13;&#10;Template=&quot;IM10-Escalation-ToRole&quot;&#13;&#10;Condition=&quot;{js:IM10-Escalation-ToRole-condition}&quot;&#13;&#10;NotifyWith=&quot;IM-EmailReceivedNotification&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="543" YCoordinate="582"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM11-SPAnalysis" Name="IM11 - Specialist analysis">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPAnalysisNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="PrevSPAnalysisTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPAnalysisTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPAnalysisAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;KnowledgeBase&quot;&#13;&#10;ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;SingleSelect=1&#13;&#10;KBArray"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="779" YCoordinate="581"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM13-SPExecution" Name="IM13- Specialist execution">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPExecNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="PrevSPExecTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPExecTime"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPExecAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1059" YCoordinate="696"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM12-SPStartCM" Name="IM12- Start change from specialist">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CMShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="CMExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPStartCMNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPStartCMAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process})/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="920" YCoordinate="692"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM14-SPSuspension" Name="IM14- Specialist suspension">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPSuspType"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPSuspNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPSuspAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPSuggOperator"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;CI&quot;&#13;&#10;ButtonLabel=&quot;Affected CIs&quot;&#13;&#10;Filter=&quot;from CI where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcCI&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ClassName=&quot;Service&quot;&#13;&#10;ButtonLabel=&quot;Affected services&quot;&#13;&#10;Filter=&quot;from Service where Id in (/(select &quot;IdObj2&quot; from &quot;Map_ITProcService&quot; where &quot;IdObj1&quot;={xa:process} and &quot;Status&quot;='A')/)&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Knowledge base&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id={server:KB.Id}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray"/>
                        <xpdl:ExtendedAttribute Name="linkCards" Value="ButtonLabel=&quot;Related changes&quot;&#13;&#10;Filter=&quot;from ChangeMgt where ParentProcess={xa:process}&quot;&#13;&#10;NoSelect=1&#13;&#10;voidArray&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1346" YCoordinate="787"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM15-SPClosure" Name="IM15- Specialist closure">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Message"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Number"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="CreationTimestamp"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Requester"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ShortDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExtDescr"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Channel"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Category"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Subcategory"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Priority"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="ExpectedClosureDate"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Outcome"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="KB"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Answer"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATE" Value="SPClosureNotes"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="SPClosureAction"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="CurrentUser"/>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Register"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="Reference=&#13;Requester&#13;&#10;ButtonLabel=&quot;Requester&quot;&#13;&#10;Requester"/>
                        <xpdl:ExtendedAttribute Name="presetFromCard" Value="ButtonLabel=&quot;Select from knowledge base&quot;&#13;&#10;ClassName=&quot;KnowledgeBase&quot;&#13;&#10;Filter=&quot;from KnowledgeBase where Id = {client:KB.Id}&quot;&#13;&#10;AttributeMapping=&quot;Answer=Text&quot;&#13;&#10;process=processId"/>
                        <xpdl:ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;KnowledgeBase&quot;&#13;&#10;ObjId=client:KnowledgeBase&#13;&#10;ButtonLabel=&quot;Add new  knowledge base&quot;&#13;&#10;Title=&quot;ShortDescr&quot;&#13;&#10;Text=&quot;{client:Answer}&quot;&#13;&#10;KB"/>
                        <xpdl:ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Email&quot;&#13;&#10;Template1=&quot;IM15-Closure-ToRequester&quot;&#13;&#10;Condition1=&quot;{js:IM15-Closure-ToRequester-condition}&quot;&#13;&#10;NotifyWith1=&quot;IM-EmailReceivedNotification&quot;&#13;&#10;&#13;&#10;Template2=&quot;IM15-Closure-ToHelpdesk&quot;&#13;&#10;Condition2=&quot;{js:IM15-Closure-ToHelpdesk-condition}&quot;&#13;&#10;NotifyWith2=&quot;IM-EmailReceivedNotification&quot;"/>
                        <xpdl:ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Upload attachment&quot;"/>
                        <xpdl:ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;View timetable&quot;&#13;&#10;ReportType=&quot;custom&quot;&#13;&#10;ReportCode=&quot;IM-Timetable&quot;&#13;&#10;ForcePDF=1&#13;&#10;IdProcess=ProcessId&#13;&#10;ReadOnlyAttributes=&quot;IdProcess&quot;&#13;&#10;&#13;&#10;reportURL"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1347" YCoordinate="582"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA02-SetOpeningDataUser" Name="BA02 - Set opening data - user">
                    <xpdl:BlockActivity ActivitySetId="SetOpeningData"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan1" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="527" YCoordinate="35"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA09-SetOpeningDataSP" Name="BA09 - Set opening data - SP">
                    <xpdl:BlockActivity ActivitySetId="SetOpeningData"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="429" YCoordinate="582"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS03-" Name="SYS03 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

Message=null;
LastHelpdesk=_CurrentGroup;
currentGroupName=cmdb.cardFrom(_CurrentGroup).get("Code");
HDNextRoleName=cmdb.cardFrom(HDNextRole).getCode();

CTHDClassification= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDClassification)
	.with("date2",CTHDClassification)
	.execute();

TTHDClassification=TTHDClassification+spResultSet.get("activitytime");

CTHDClassification=null;
STHDClassification=null;

Register += setRegister("IM03 -  Helpdesk classification","",HDClassificNotes,new Float(0));

if (RelatedITProc.checkValidity()) {
	Action="WaitForRelatedProcess";
	STHDClosure = Calendar.getInstance().getTime();
	ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "WaitForRelatedProcess"); 
	HDClosureAction = cmdb.selectLookupByCode("IncidentMgt - HDClosure Action", "Closure"); 
	cmdb.existingProcessInstance(ProcessClass, ProcessId.intValue()).suspend();
}
else{

	Action=HDClassificAction.getCode();

	switch (Action) {
		case "HDAnalysis":
			if(currentGroupName.equals(HDNextRoleName)){
				ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
				STHDAnalysis = Calendar.getInstance().getTime();
				if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
					HDSuggOperator=_CurrentUser;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STHDClassification= Calendar.getInstance().getTime();
			}
			break;
		case "HDExecution":
			if(currentGroupName.equals(HDNextRoleName)){
				ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
				STHDAnalysis = Calendar.getInstance().getTime();
				if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
					HDSuggOperator=_CurrentUser;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STHDClassification= Calendar.getInstance().getTime();
			}
			break;
		case "EscalationHD": 
			STHDClassification= Calendar.getInstance().getTime();
			if(currentGroupName.equals(HDNextRoleName)){
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
			}
			else{
				CurrentPerformer = HDNextRoleName;
				CurrentRole= HDNextRole;
			}
			break;

		case "EscalationSP":
			if(!currentGroupName.equals(HDNextRoleName)){	
				STSPClassification = Calendar.getInstance().getTime();			
				CurrentPerformer = HDNextRoleName;
				CurrentRole= HDNextRole;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STHDClassification= Calendar.getInstance().getTime();
			}
			SPNextRole=null;
			break;
		
		case "Closure":
			ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
			STHDClosure = Calendar.getInstance().getTime();
			
			if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
				HDSuggOperator=_CurrentUser;
			break;

		case "StartRF":

			rfHDPerformers = cmdb.queryClass("_Templates")
					.with("Name", "ReqFulfil-HDPerformers")
					.fetch()
					.get(0)
					.get("Template");

			if(rfHDPerformers.contains(currentGroupName)){

				ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closed");
				pid = cmdb.impersonate()
					.username(_CurrentUserUsername)
	    				.group(currentGroupName)
	    				.impersonate()
					.newProcessInstance("ReqFulfil") 
					.with("Requester", Requester)
					.with("ShortDescr", ShortDescr)
					.with("ExtDescr", ExtDescr)
					.with("OpeningChannel", OpeningChannel)
					.with("Channel", Channel)
					.with("ParentProcess",ProcessId.intValue())
					.with("Category",Category)
					.with("Subcategory",Subcategory)
					.with("Urgency",Urgency)
					//.with("Impact",Impact)
					.with("HDClassificNotes",HDClassificNotes)
					.start();
			
				if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
					HDSuggOperator=_CurrentUser;
			}else{
				logger.debug("group '{}' not allowed to open a Request Fulfilment process", currentGroupName);
				Message = cmdb.selectLookupByCode("ITProc - Message", "ITProc-OpeningNotAllowed"); 
			}
			break;

		case "StartCM":

			cmPerformers = cmdb.queryClass("_Templates")
					.with("Name", "ChangeMgt-Performers")
					.fetch()
					.get(0)
					.get("Template");

			if(cmPerformers.contains(currentGroupName)){

				pid = cmdb.impersonate()
					.username(_CurrentUserUsername)
	    				.group(currentGroupName)
	    				.impersonate()
					.newProcessInstance("ChangeMgt")
					.with("ShortDescr", ShortDescr)
					.with("ExtDescr", ExtDescr)
					.with("Channel", Channel)
					.with("ParentProcess",ProcessId.intValue())
					.with("Requester",Requester)
					.with("Category",Category)
					.with("Subcategory",Subcategory)
					.with("Urgency",Urgency)
					.with("Impact",Impact)
					.with("SPClassificNotes",HDClassificNotes)
					.startAndAdvance();
					ProcessStatus = cmdb.selectLookupByCode("ITProc - ProcessStatus", "Closed");
					ClosureTimestamp = Calendar.getInstance().getTime();
			
				if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
					HDSuggOperator=_CurrentUser;	
			}else{
				logger.debug("group '{}' not allowed to open a Change Management process", currentGroupName);
				Message = cmdb.selectLookupByCode("ITProc - Message", "ITProc-OpeningNotAllowed"); 
			}
			break;

		default:   
			Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction");
			STHDClassification= Calendar.getInstance().getTime();
			break;
	}
}


clearRelationList("LinkedITProc");
clearRelationList("ITProcCI");
clearRelationList("ITProcService");

if ((IncidentArray != null) &amp;&amp; (IncidentArray.length &gt; 0)) {
	updateRelationList(IncidentArray, "LinkedITProc");
}

if ((CIsArray != null) &amp;&amp; (CIsArray.length &gt; 0)) {
	updateRelationList(CIsArray,"ITProcCI");
}

if ((servicesArray != null) &amp;&amp; (servicesArray.length &gt; 0)) {
	updateRelationList(servicesArray, "ITProcService");
}

priorityList = cmdb.queryClass("ITProcPriority")
	.with("Urgency",Urgency)
	.with("Impact",Impact)
	.fetch();

for(priority:priorityList){
	Priority = priority.get("Priority");
	break;
}

if(Message == null){
	HDClassificNotes = "";
	HDClassificAction = null;
}</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="671" YCoordinate="208"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS02-1" Name="SYS02 - Email to requester">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

STHDClassification= Calendar.getInstance().getTime();

spResult=cmdb.callFunction("wf_incidentmgt_im01_email_to_requester")
	.with("process",ProcessId.intValue())
	.with("number",Number)
	.execute();

MailFromAddress=spResult.get("fromaddress");
MailToAddress=spResult.get("toaddress");
MailSubject=spResult.get("subject");
MailContent=spResult.get("body");

logger.debug("MailFromAddress: "+MailFromAddress);
logger.debug("MailToAddress: "+MailToAddress);
logger.debug("MailSubject: "+MailSubject);
logger.debug("MailContent: "+MailContent);

spResult = cmdb.callFunction("wf_itproc_send_email") //
				.with("processid", ProcessId.intValue())
				.with("fromaddress", MailFromAddress)
				.with("toaddress", MailToAddress)
				.with("subject", MailSubject)
				.with("body", MailContent)
				.execute();

CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Join Type="Exclusive"/>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="528" YCoordinate="118"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act7">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra17"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra16"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra18"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra1"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra19"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra20"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra86"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="794" YCoordinate="372"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act8">
                    <xpdl:Event>
                        <xpdl:EndEvent Result="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="1034" YCoordinate="421"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM16-OperationNotAllowed" Name="IM16 - Operation not allowed">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Message"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="528" YCoordinate="286"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS04-" Name="SYS04 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
	HDSuggOperator=_CurrentUser;

CTHDAnalysis= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDAnalysis)
	.with("date2",CTHDAnalysis)
	.execute();

TTHDAnalysis=TTHDAnalysis+spResultSet.get("activitytime");

CTHDAnalysis=null;
STHDAnalysis=null;

PrevHDAnalysisTime+=HDAnalysisTime;

Register += setRegister("IM04 - Helpdesk analysis","",HDAnalysisNotes,HDAnalysisTime);

Action=HDAnalysisAction.getCode();

switch (Action) {
	case "Continue":
		STHDAnalysis= Calendar.getInstance().getTime();
		break;

	case "Execution": 
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
		STHDExecution= Calendar.getInstance().getTime();
		break;

	case "Suspension":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");
		STHDSuspension= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STHDClosure= Calendar.getInstance().getTime();
		break;

	case "Classification":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Classification");
		STHDClassification= Calendar.getInstance().getTime();
		HDNextRole = null;
		break;

	case "StartChange":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "StartCM");
		STHDStartCM= Calendar.getInstance().getTime();
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

if ((KBArray != null) &amp;&amp; (KBArray.length &gt; 0)) {
	clearRelationList("ITProcKB");
	KB=KBArray[0];
}

HDAnalysisNotes="";
HDAnalysisAction=null;

HDAnalysisTime=null;

CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="909" YCoordinate="207"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act9">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra25"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra24"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra26"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra27"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra28"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra29"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="1051" YCoordinate="217"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS05" Name="SYS05 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
	HDSuggOperator=_CurrentUser;

currentGroupName=cmdb.cardFrom(_CurrentGroup).get("Code");

CTHDStartCM= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDStartCM)
	.with("date2",CTHDStartCM)
	.execute();

TTHDStartCM=TTHDStartCM+spResultSet.get("activitytime");

Register += setRegister("IM05 - Helpdesk start change","",HDStartCMNotes,new Float(0));

STHDAnalysis = Calendar.getInstance().getTime();

Action=HDStartCMAction.getCode();

switch (Action) {
	case "Cancel":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
		break;

	case "StartCM":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");

		pid = cmdb.impersonate()
			.username(_CurrentUserUsername)
    			.group(currentGroupName)
    			.impersonate()
			.newProcessInstance("ChangeMgt")
			.with("Requester", Requester)
			.with("ShortDescr", CMShortDescr)
			.with("ExtDescr", CMExtDescr)
			.with("Category", Category) 
			.with("Subcategory", Subcategory)
			.with("Urgency",Urgency)
			.with("Impact",Impact)
			.with("ParentProcess",ProcessId.intValue())
			.startAndAdvance();

		cmdb.existingProcessInstance(ProcessClass, ProcessId.intValue()).suspend();
		break;

	default:   
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

HDStartCMNotes="";
HDStartCMAction=null;

CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="769" YCoordinate="118"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS06-" Name="SYS06 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
	HDSuggOperator=_CurrentUser;

CTHDExecution= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDExecution)
	.with("date2",CTHDExecution)
	.execute();

TTHDExecution=TTHDExecution+spResultSet.get("activitytime");


STHDExecution=null;
CTHDExecution=null;

PrevHDExecTime+=HDExecTime;

Register += setRegister("IM06 - Helpdesk execution","",HDExecNotes,HDExecTime);

Action=HDExecAction.getCode();

switch (Action) {
	case "Continue":
		STHDExecution = Calendar.getInstance().getTime();
		break;

	case "Suspension":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");
		STHDSuspension= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STHDClosure= Calendar.getInstance().getTime();
		break;

	case "Classification":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Classification");
		STHDClassification= Calendar.getInstance().getTime();
		HDNextRole = null;
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

HDExecTime=null;
HDExecNotes="";
HDExecAction=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1160" YCoordinate="117"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act10">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra35"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra34"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra36"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra37"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="1184" YCoordinate="36"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act11">
                    <xpdl:Event>
                        <xpdl:EndEvent Result="None"/>
                    </xpdl:Event>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="31">
                            <xpdl:Coordinates XCoordinate="1810" YCoordinate="592"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS07-" Name="SYS07 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
	HDSuggOperator=_CurrentUser;

CTHDSuspension = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDSuspension)
	.with("date2",CTHDSuspension)
	.execute();

TTHDSuspension=TTHDSuspension+spResultSet.get("activitytime");

CTHDSuspension = null;
STHDSuspension = null;

Register += setRegister("IM07 - Helpdesk suspension","",HDSuspNotes,new Float(0));

Action=HDSuspAction.getCode();

switch (Action) {
	case "Execution": 
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
		STHDExecution= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STHDClosure= Calendar.getInstance().getTime();
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

HDSuspNotes="";
HDSuspAction=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Parallel">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra45"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra46"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1317" YCoordinate="118"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS08-" Name="SYS08 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

CTHDClosure= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STHDClosure)
	.with("date2",CTHDClosure)
	.execute();

TTHDClosure=TTHDClosure+spResultSet.get("activitytime");

CTHDClosure=null;
STHDClosure=null;

Register += setRegister("IM08 - Helpdesk closure",Outcome.getDescription(),Answer+"&lt;br/&gt;"+HDClosureNotes,new Float(0));

Action=HDClosureAction.getCode();

switch (Action) {
	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closed");
		ClosureTimestamp= Calendar.getInstance().getTime();
	break;

	case "Analysis":
		if(HDSuggOperator == null || HDSuggOperator.getId()&lt;=0)
			HDSuggOperator=_CurrentUser;
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
		STHDAnalysis = Calendar.getInstance().getTime();
		
	break;

	default:   
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
	break;
}
HDClosureNotes="";
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Parallel">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra51"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra55"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1588" YCoordinate="245"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA-CloseRelatedIncident-ClosureHD" Name="BA - Close related incident- closure HD">
                    <xpdl:BlockActivity ActivitySetId="AwakeChildrenProcesses"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1756" YCoordinate="244"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA-CloseRelatedIncident-ClosureSP" Name="BA - Close related incident- closure SP">
                    <xpdl:BlockActivity ActivitySetId="AwakeChildrenProcesses"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1685" YCoordinate="579"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA-CloseRelatedIncident-ClosureSP1" Name="BA - Close related incident- closure SP">
                    <xpdl:BlockActivity ActivitySetId="AwakeChildrenProcesses"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="912" YCoordinate="405"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS01-SetOpeningData-User" Name="SYS01 - Set opening data for user">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

Channel = cmdb.selectLookupByCode("ITProc - Channel", "Portal");

areaList= cmdb.queryClass("ITProcArea")
	.with("Area",Area)
	.with("Active",true)
	.fetch();

for(area:areaList){
	performer=cmdb.cardFrom(area.get("Role"));
	CurrentPerformer= performer.getCode();
	CurrentRole=cmdb.referenceTypeFrom(performer);
	break;
}</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan1" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="341" YCoordinate="34"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS09-SetOpeningData-SP" Name="SYS09 - Set opening data for specialist">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

CurrentPerformer=cmdb.cardFrom(_CurrentGroup).get("Code");

STSPClassification= Calendar.getInstance().getTime();
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="306" YCoordinate="582"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS10-" Name="SYS10 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

Message = null;
currentGroupName = cmdb.cardFrom(_CurrentGroup).get("Code");
//currentGroupName = _CurrentGroupName;
SPNextRoleName = cmdb.cardFrom(SPNextRole).getCode();

CTSPClassification =  Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STSPClassification)
	.with("date2",CTSPClassification)
	.execute();

TTSPClassification=TTSPClassification+spResultSet.get("activitytime");

CTSPClassification = null;
STSPClassification = null;

Register+=setRegister("IM10 -  Specialist classification","",SPClassificNotes,new Float(0));

if (RelatedITProc.checkValidity()) {
	Action = "WaitForRelatedProcess";
	STSPClosure = Calendar.getInstance().getTime();
	ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "WaitForRelatedProcess"); 
	SPClosureAction = cmdb.selectLookupByCode("IncidentMgt - SPClosure Action", "Closure");
	cmdb.existingProcessInstance(ProcessClass, ProcessId.intValue()).suspend();
}
else{

	Action=SPClassificAction.getCode();

	switch (Action) {
		case "SPAnalysis":
			if(currentGroupName.equals(SPNextRoleName)){
				ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
				STSPAnalysis = Calendar.getInstance().getTime();
				if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
					SPSuggOperator=_CurrentUser;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STSPClassification = Calendar.getInstance().getTime();	
			}
			break;
		case "SPExecution":
			if(currentGroupName.equals(SPNextRoleName)){
				ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
				STSPAnalysis = Calendar.getInstance().getTime();
				if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
					SPSuggOperator=_CurrentUser;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STSPClassification = Calendar.getInstance().getTime();	
			}
			break;
		case "DescalationHD": 
			if(currentGroupName.equals(SPNextRoleName)){
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
				STSPClassification = Calendar.getInstance().getTime();	
			}
			else{
				STHDClassification = Calendar.getInstance().getTime();
				CurrentPerformer = SPNextRoleName;
				CurrentRole= SPNextRole;
			}
			HDNextRole=null;
			break;

		case "EscalationSP":
			STSPClassification = Calendar.getInstance().getTime();	
			if(!currentGroupName.equals(SPNextRoleName)){			
				CurrentPerformer = SPNextRoleName;
				CurrentRole= SPNextRole;
			}
			else{
				Message = cmdb.selectLookupByCode("ITProc - Message", "IM-RoleChange");
			}
			break;
		
		case "Closure":
			ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
			STSPClosure = Calendar.getInstance().getTime();
			
			if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
					SPSuggOperator=_CurrentUser;

			break;

		default:   
			Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction");
			STSPClassification = Calendar.getInstance().getTime();	
			break;
	}
}

clearRelationList("LinkedITProc");
clearRelationList("ITProcCI");
clearRelationList("ITProcService");

if ((IncidentArray != null) &amp;&amp; (IncidentArray.length &gt; 0)) {
	updateRelationList(IncidentArray, "LinkedITProc");
}

if ((CIsArray != null) &amp;&amp; (CIsArray.length &gt; 0)) {
	updateRelationList(CIsArray,"ITProcCI");
}

if ((servicesArray != null) &amp;&amp; (servicesArray.length &gt; 0)) {
	updateRelationList(servicesArray, "ITProcService");
}

priorityList= cmdb.queryClass("ITProcPriority")
	.with("Urgency",Urgency)
	.with("Impact",Impact)
	.fetch();

for(priority:priorityList){
	Priority = priority.get("Priority");
	break;
}

if(Message == null){
	SPClassificNotes = "";
	SPClassificAction = null;
}
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="665" YCoordinate="581"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act14">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra58"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra59"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra71"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra72"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra79"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra85"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="799" YCoordinate="502"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="IM16-OperationNotAllowed1" Name="IM16 - Operation not allowed">
                    <xpdl:Implementation>
                        <xpdl:No/>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer>CurrentPerformer</xpdl:Performer>
                    </xpdl:Performers>
                    <xpdl:ExtendedAttributes>
                        <xpdl:ExtendedAttribute Name="VariableToProcess_VIEW" Value="Message"/>
                    </xpdl:ExtendedAttributes>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="541" YCoordinate="495"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS11-" Name="SYS11 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(SPSuggOperator == null || SPSuggOperator.getId()==0)
	SPSuggOperator=_CurrentUser;

CTSPAnalysis= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STSPAnalysis)
	.with("date2",CTSPAnalysis)
	.execute();

TTSPAnalysis=TTSPAnalysis+spResultSet.get("activitytime");

CTSPAnalysis=null;
STSPAnalysis=null;

PrevSPAnalysisTime+=SPAnalysisTime;

Register += setRegister("IM11 - Specialist analysis","",SPAnalysisNotes,SPAnalysisTime);

Action=SPAnalysisAction.getCode();

switch (Action) {
	case "Continue":
		STSPAnalysis= Calendar.getInstance().getTime();
		break;

	case "Execution": 
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
		STSPExecution= Calendar.getInstance().getTime();
		break;

	case "Suspension":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");
		STSPSuspension= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STSPClosure= Calendar.getInstance().getTime();
		break;

	case "Classification":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Classification");
		STSPClassification= Calendar.getInstance().getTime();
		SPNextRole = null;
		break;

	case "StartChange":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "StartCM");
		STSPStartCM= Calendar.getInstance().getTime();
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

if ((KBArray != null) &amp;&amp; (KBArray.length &gt; 0)) {
	clearRelationList("ITProcKB");
	KB=KBArray[0];
}

SPAnalysisNotes="";
SPAnalysisAction=null;
SPAnalysisTime=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="921" YCoordinate="581"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act15">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra67"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra40"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra73"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra75"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra78"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra80"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="1080" YCoordinate="590"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS13-" Name="SYS13 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
	SPSuggOperator=_CurrentUser;

CTSPExecution= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STSPExecution)
	.with("date2",CTSPExecution)
	.execute();

TTSPExecution=TTSPExecution+spResultSet.get("activitytime");

STSPExecution=null;
CTSPExecution=null;

PrevSPExecTime+=SPExecTime;

Register += setRegister("IM13- Specialist execution","",SPExecNotes,SPExecTime);

Action=SPExecAction.getCode();

switch (Action) {
	case "Continue":
		STSPExecution = Calendar.getInstance().getTime();
		break;

	case "Suspension":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");
		STSPSuspension= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STSPClosure= Calendar.getInstance().getTime();
		break;

	case "Classification":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Classification");
		STSPClassification= Calendar.getInstance().getTime();
		HDNextRole = null;
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

SPExecTime=null;
SPExecNotes="";
SPExecAction=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1191" YCoordinate="695"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS015-" Name="SYS15 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

Message = null;
Action=SPClosureAction.getCode();

switch (Action) {
	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closed");
		ClosureTimestamp= Calendar.getInstance().getTime();
	break;

	case "Analysis":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
		STSPAnalysis = Calendar.getInstance().getTime();
		
	break;

	case "HDClosure":			
			if(LastHelpdesk==null || LastHelpdesk.getId()&lt;=0)	{
				Message = cmdb.selectLookupByCode("ITProc - Message","IM-NoHelpdesk");			
			} else {
				ProcessStatus = cmdb.selectLookupByCode("ITProc - ProcessStatus", "Closure");
				STHDClosure = Calendar.getInstance().getTime();
				LastHDGroupName=cmdb.cardFrom(LastHelpdesk).getCode();
				CurrentPerformer = LastHDGroupName;
				CurrentRole=LastHelpdesk;
			}
			
	break;

	default:   
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
	break;
}

if(Message==null || Message.getId()&lt;=0) {
	if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
		SPSuggOperator=_CurrentUser;

	Register += setRegister("IM15 - Specialist closure",Outcome.getDescription(),SPClosureNotes,new Float(0));



	CTSPClosure = Calendar.getInstance().getTime();

	spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
		.with("date1",STSPClosure)
		.with("date2",CTSPClosure)
		.execute();

	TTSPClosure=TTSPClosure+spResultSet.get("activitytime");

	STSPClosure = null;
	CTSPClosure = null;
	SPClosureNotes="";
	SPClosureAction = null;
	CurrentUser = null;
}</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Parallel">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra87"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra62"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1464" YCoordinate="584"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS14-" Name="SYS14 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
	SPSuggOperator=_CurrentUser;

CTSPSuspension = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STSPSuspension)
	.with("date2",CTSPSuspension)
	.execute();

TTSPSuspension=TTSPSuspension+spResultSet.get("activitytime");

CTSPSuspension = null;
STSPSuspension = null;

Register += setRegister("IM14 - Specialist suspension","",SPSuspNotes,new Float(0));

Action=SPSuspAction.getCode();

switch (Action) {
	case "Execution": 
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Execution");
		STSPExecution= Calendar.getInstance().getTime();
		break;

	case "Closure":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Closure");
		STSPClosure= Calendar.getInstance().getTime();
		break;

	default:  
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

SPSuspNotes="";
SPSuspAction=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Parallel">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra63"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra66"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1347" YCoordinate="695"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act16">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra64"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra65"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra69"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra74"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="1215" YCoordinate="794"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS12-" Name="SYS12 -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

if(SPSuggOperator == null || SPSuggOperator.getId()&lt;=0)
	SPSuggOperator=_CurrentUser;

currentGroupName=cmdb.cardFrom(_CurrentGroup).get("Code");

CTSPStartCM= Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_incidentmgt_getactivitytime")
	.with("date1",STSPStartCM)
	.with("date2",CTSPStartCM)
	.execute();

TTSPStartCM=TTSPStartCM+spResultSet.get("activitytime");

Register += setRegister("IM12 - Specialist start change","",SPStartCMNotes,new Float(0));

STSPAnalysis = Calendar.getInstance().getTime();

Action=SPStartCMAction.getCode();
switch (Action) {
	case "Cancel":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Analysis");
		break;

	case "StartCM":
		ProcessStatus = cmdb.selectLookupByCode(ProcessStatusLookupName, "Suspended");

		pid = cmdb.impersonate()
			.username(_CurrentUserUsername)
    			.group(currentGroupName)
    			.impersonate()
			.newProcessInstance("ChangeMgt")
			.with("Requester", Requester)
			.with("ShortDescr", CMShortDescr)
			.with("ExtDescr", CMExtDescr)
			.with("Category", Category) 
			.with("Subcategory", Subcategory) 
			.with("ParentProcess",ProcessId.intValue())
			.start();

		cmdb.existingProcessInstance(ProcessClass, ProcessId.intValue()).suspend();
		break;

	default:   
		Message = cmdb.selectLookupByCode("ITProc - Message", "IM-WrongAction"); 
		break;
}

SPStartCMNotes="";
SPStartCMAction=null;
CurrentUser = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="779" YCoordinate="691"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS01-EmailToHD" Name="SYS01 - Email to HD">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

spResult=cmdb.callFunction("wf_incidentmgt_im01_email_to_helpdesk")
	.with("process",ProcessId.intValue())
	.with("number",Number)
	.execute();

MailToAddress=spResult.get("toaddress");
MailFromAddress=spResult.get("fromaddress");
MailSubject=spResult.get("subject");
MailContent=spResult.get("body");

logger.debug("MailFromAddress: "+MailFromAddress);
logger.debug("MailToAddress: "+MailToAddress);
logger.debug("MailSubject: "+codedMailSubject);
logger.debug("MailContent: "+MailContent);

spResult = cmdb.callFunction("wf_itproc_send_email") //
				.with("processid", ProcessId.intValue())
				.with("fromaddress", MailFromAddress)
				.with("toaddress", MailToAddress)
				.with("subject", MailSubject)
				.with("body", MailContent)
				.execute();</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan1" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="526" YCoordinate="124"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="Process_incidentmgt_act17">
                    <xpdl:Route GatewayType="Exclusive"/>
                    <xpdl:TransitionRestrictions>
                        <xpdl:TransitionRestriction>
                            <xpdl:Split Type="Exclusive">
                                <xpdl:TransitionRefs>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra82"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra81"/>
                                    <xpdl:TransitionRef Id="Process_incidentmgt_tra84"/>
                                </xpdl:TransitionRefs>
                            </xpdl:Split>
                        </xpdl:TransitionRestriction>
                    </xpdl:TransitionRestrictions>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="43">
                            <xpdl:Coordinates XCoordinate="1609" YCoordinate="590"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS01-SetOpeningData-HD" Name="SYS01 - Set opening data for helpdesk">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">eval(functionLibrary);

CurrentPerformer=cmdb.cardFrom(_CurrentGroup).get("Code");
CurrentRole= _CurrentGroup;
if(!CurrentUser.checkValidity()){
	CurrentUser=_CurrentUser;
}

Channel = cmdb.selectLookupByCode("ITProc - Channel", OpeningChannel.getCode());</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="265" YCoordinate="114"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="BA02-SetOpeningDataHD" Name="BA02 - Set Opening Data - HD">
                    <xpdl:BlockActivity ActivitySetId="SetOpeningData"/>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="401" YCoordinate="116"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
                <xpdl:Activity Id="SYS015a" Name="SYS15a -">
                    <xpdl:Implementation>
                        <xpdl:Task>
                            <xpdl:TaskScript>
                                <xpdl:Script ScriptType="text/java">Answer = "";
Outcome = null;</xpdl:Script>
                            </xpdl:TaskScript>
                        </xpdl:Task>
                    </xpdl:Implementation>
                    <xpdl:Performers>
                        <xpdl:Performer/>
                    </xpdl:Performers>
                    <xpdl:NodeGraphicsInfos>
                        <xpdl:NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_incidentmgt_pool1_lan2" ToolId="JaWE" Width="90">
                            <xpdl:Coordinates XCoordinate="1466" YCoordinate="511"/>
                        </xpdl:NodeGraphicsInfo>
                    </xpdl:NodeGraphicsInfos>
                </xpdl:Activity>
            </xpdl:Activities>
            <xpdl:Transitions>
                <xpdl:Transition From="Process_incidentmgt_act1" Id="Process_incidentmgt_tra2" To="IM02-HDOpening">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act5" Id="Process_incidentmgt_tra3" To="IM09-SPOpening">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act4" Id="Process_incidentmgt_tra4" To="IM01-UserOpening">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM02-HDOpening" Id="Process_incidentmgt_tra5" To="SYS01-SetOpeningData-HD">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM01-UserOpening" Id="Process_incidentmgt_tra8" To="SYS01-SetOpeningData-User">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA02-SetOpeningDataUser" Id="Process_incidentmgt_tra9" To="SYS01-EmailToHD">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM09-SPOpening" Id="Process_incidentmgt_tra11" To="SYS09-SetOpeningData-SP">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA09-SetOpeningDataSP" Id="Process_incidentmgt_tra12" To="IM10-SPClassification">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS02-1" Id="Process_incidentmgt_tra13" To="IM03-HDClassification">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM03-HDClassification" Id="Process_incidentmgt_tra14" To="SYS03-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS03-" Id="Process_incidentmgt_tra15" To="Process_incidentmgt_act7">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra16" To="IM04-HDAnalysis">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("HDAnalysis".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra17" To="BA-CloseRelatedIncident-ClosureSP1">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; (
	"StartRF".equalsIgnoreCase(Action)  || 
	"StartCM".equalsIgnoreCase(Action)
);<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra18" To="IM16-OperationNotAllowed">
                    <xpdl:Condition Type="CONDITION">Message!=null &amp;&amp; Message.getId()&gt;0<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra1" To="IM10-SPClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("EscalationSP".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra19" To="IM03-HDClassification">
                    <xpdl:Condition Type="OTHERWISE">
                        <xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra20" To="IM08-HDClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action) || "WaitForRelatedProcess".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM16-OperationNotAllowed" Id="Process_incidentmgt_tra21" To="IM03-HDClassification">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM04-HDAnalysis" Id="Process_incidentmgt_tra22" To="SYS04-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS04-" Id="Process_incidentmgt_tra23" To="Process_incidentmgt_act9">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra24" To="IM05-HDStartCM1">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("StartChange".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra25" To="IM06-HDExecution">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Execution".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra26" To="IM07-HDSuspension">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Suspension".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra27" To="IM08-HDClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra28" To="IM03-HDClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Classification".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="953" YCoordinate="551"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act9" Id="Process_incidentmgt_tra29" To="IM04-HDAnalysis">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="981" YCoordinate="473"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM05-HDStartCM1" Id="Process_incidentmgt_tra30" To="SYS05">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS05" Id="Process_incidentmgt_tra31" To="IM04-HDAnalysis">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM06-HDExecution" Id="Process_incidentmgt_tra32" To="SYS06-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS06-" Id="Process_incidentmgt_tra33" To="Process_incidentmgt_act10">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act10" Id="Process_incidentmgt_tra34" To="IM07-HDSuspension">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Suspension".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act10" Id="Process_incidentmgt_tra35" To="IM06-HDExecution">
                    <xpdl:Condition Type="OTHERWISE">
                        <xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act10" Id="Process_incidentmgt_tra36" To="IM03-HDClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Classification".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="669" YCoordinate="251"/>
                            <xpdl:Coordinates XCoordinate="669" YCoordinate="378"/>
                            <xpdl:Coordinates XCoordinate="647" YCoordinate="379"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act10" Id="Process_incidentmgt_tra37" To="IM08-HDClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM10-SPClassification" Id="Process_incidentmgt_tra38" To="SYS10-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM11-SPAnalysis" Id="Process_incidentmgt_tra39" To="SYS11-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra40" To="IM13-SPExecution">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Execution".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM13-SPExecution" Id="Process_incidentmgt_tra41" To="SYS13-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM14-SPSuspension" Id="Process_incidentmgt_tra42" To="SYS14-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA-CloseRelatedIncident-ClosureSP" Id="Process_incidentmgt_tra43" To="Process_incidentmgt_act11">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM07-HDSuspension" Id="Process_incidentmgt_tra44" To="SYS07-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS07-" Id="Process_incidentmgt_tra45" To="IM08-HDClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS07-" Id="Process_incidentmgt_tra46" To="IM06-HDExecution">
                    <xpdl:Condition Type="OTHERWISE">
                        <xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1240" YCoordinate="384"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM08-HDClosure" Id="Process_incidentmgt_tra47" To="SYS08-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA-CloseRelatedIncident-ClosureHD" Id="Process_incidentmgt_tra48" To="Process_incidentmgt_act2">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS08-" Id="Process_incidentmgt_tra51" To="BA-CloseRelatedIncident-ClosureHD">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM15-SPClosure" Id="Process_incidentmgt_tra52" To="SYS015-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA-CloseRelatedIncident-ClosureSP1" Id="Process_incidentmgt_tra53" To="Process_incidentmgt_act8">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS01-SetOpeningData-User" Id="Process_incidentmgt_tra54" To="BA02-SetOpeningDataUser">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS09-SetOpeningData-SP" Id="Process_incidentmgt_tra56" To="BA09-SetOpeningDataSP">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS10-" Id="Process_incidentmgt_tra57" To="Process_incidentmgt_act14">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra58" To="IM11-SPAnalysis">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("SPAnalysis".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra59" To="IM16-OperationNotAllowed1">
                    <xpdl:Condition Type="CONDITION">Message!=null &amp;&amp; Message.getId()&gt;0<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM16-OperationNotAllowed1" Id="Process_incidentmgt_tra60" To="IM10-SPClassification">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS11-" Id="Process_incidentmgt_tra61" To="Process_incidentmgt_act15">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS14-" Id="Process_incidentmgt_tra63" To="IM15-SPClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act16" Id="Process_incidentmgt_tra64" To="IM14-SPSuspension">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Suspension".equalsIgnoreCase(Action));</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act16" Id="Process_incidentmgt_tra65" To="IM15-SPClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS14-" Id="Process_incidentmgt_tra66" To="IM13-SPExecution">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1267" YCoordinate="869"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra67" To="IM12-SPStartCM">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("StartChange".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act16" Id="Process_incidentmgt_tra69" To="IM13-SPExecution">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS13-" Id="Process_incidentmgt_tra70" To="Process_incidentmgt_act16">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra71" To="IM10-SPClassification">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra72" To="IM15-SPClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action) || "WaitForRelatedProcess".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra73" To="IM15-SPClosure">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Closure".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act16" Id="Process_incidentmgt_tra74" To="IM10-SPClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Classification".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="623" YCoordinate="1009"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra75" To="IM14-SPSuspension">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0) &amp;&amp; ("Suspension".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="IM12-SPStartCM" Id="Process_incidentmgt_tra76" To="SYS12-">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS12-" Id="Process_incidentmgt_tra77" To="IM11-SPAnalysis">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra78" To="IM11-SPAnalysis">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="986" YCoordinate="754"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra79" To="IM03-HDClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("DescalationHD".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act15" Id="Process_incidentmgt_tra80" To="IM10-SPClassification">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("Classification".equalsIgnoreCase(Action));<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="879" YCoordinate="861"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS01-EmailToHD" Id="Process_incidentmgt_tra68" To="SYS02-1">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act17" Id="Process_incidentmgt_tra81" To="BA-CloseRelatedIncident-ClosureSP">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act17" Id="Process_incidentmgt_tra82" To="IM08-HDClosure">
                    <xpdl:Condition Type="CONDITION">"HDClosure".equals(Action)</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS01-SetOpeningData-HD" Id="Process_incidentmgt_tra83" To="BA02-SetOpeningDataHD">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="BA02-SetOpeningDataHD" Id="Process_incidentmgt_tra10" To="SYS02-1">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS08-" Id="Process_incidentmgt_tra55" To="IM04-HDAnalysis">
                    <xpdl:Condition Type="CONDITION">"Analysis".equals(Action)</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="871" YCoordinate="481"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act17" Id="Process_incidentmgt_tra84" To="SYS015a">
                    <xpdl:Condition Type="CONDITION">"Analysis".equals(Action)<xpdl:Expression ScriptType="text/java"/>
                    </xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act14" Id="Process_incidentmgt_tra85" To="IM13-SPExecution">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("SPExecution".equalsIgnoreCase(Action));</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1106" YCoordinate="718"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="Process_incidentmgt_act7" Id="Process_incidentmgt_tra86" To="IM06-HDExecution">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)  &amp;&amp; ("HDExecution".equalsIgnoreCase(Action));</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1134" YCoordinate="584"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS015-" Id="Process_incidentmgt_tra62" To="Process_incidentmgt_act17">
                    <xpdl:Condition Type="CONDITION">(Message==null || Message.getId()&lt;=0)</xpdl:Condition>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS015-" Id="Process_incidentmgt_tra87" To="IM15-SPClosure">
                    <xpdl:Condition Type="OTHERWISE"/>
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1486" YCoordinate="783"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
                <xpdl:Transition From="SYS015a" Id="Process_incidentmgt_tra88" To="IM11-SPAnalysis">
                    <xpdl:ConnectorGraphicsInfos>
                        <xpdl:ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <xpdl:Coordinates XCoordinate="1190" YCoordinate="681"/>
                        </xpdl:ConnectorGraphicsInfo>
                    </xpdl:ConnectorGraphicsInfos>
                </xpdl:Transition>
            </xpdl:Transitions>
            <xpdl:ExtendedAttributes>
                <xpdl:ExtendedAttribute Name="cmdbuildBindToClass" Value="IncidentMgt"/>
            </xpdl:ExtendedAttributes>
        </xpdl:WorkflowProcess>
    </xpdl:WorkflowProcesses>
    <xpdl:ExtendedAttributes>
        <xpdl:ExtendedAttribute Name="EDITING_TOOL" Value="Together Workflow Editor"/>
        <xpdl:ExtendedAttribute Name="EDITING_TOOL_VERSION" Value="4.4-1-20120111-0622"/>
        <xpdl:ExtendedAttribute Name="JaWE_CONFIGURATION" Value="shark"/>
    </xpdl:ExtendedAttributes>
</xpdl:Package>
