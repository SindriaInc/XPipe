<?xml version="1.0" encoding="UTF-8"?><Package xmlns="http://www.wfmc.org/2008/XPDL2.1" xmlns:xpdl="http://www.wfmc.org/2008/XPDL2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Id="Package_gestioneticket" xsi:schemaLocation="http://www.wfmc.org/2008/XPDL2.1 http://www.wfmc.org/standards/docs/bpmnxpdl_31.xsd">
    <PackageHeader>
        <XPDLVersion>2.1</XPDLVersion>
        <Vendor/>
        <Created/>
    </PackageHeader>
    <Script Type="text/java"/>
    <TypeDeclarations>
        <TypeDeclaration Id="Reference">
            <ExternalReference location="org.cmdbuild.workflow.type.ReferenceType"/>
        </TypeDeclaration>
        <TypeDeclaration Id="References">
            <ExternalReference location="org.cmdbuild.workflow.type.ReferenceType&lt;&gt;"/>
        </TypeDeclaration>
        <TypeDeclaration Id="Lookup">
            <ExternalReference location="org.cmdbuild.workflow.type.LookupType"/>
        </TypeDeclaration>
        <TypeDeclaration Id="Lookups">
            <ExternalReference location="org.cmdbuild.workflow.type.LookupType&lt;&gt;"/>
        </TypeDeclaration>
    </TypeDeclarations>
    <Participants>
        <Participant Id="System">
            <ParticipantType Type="SYSTEM"/>
        </Participant>
        <Participant Id="SuperUsers">
            <ParticipantType Type="ROLE"/>
        </Participant>
        <Participant Id="Helpdesk">
            <ParticipantType Type="ROLE"/>
        </Participant>
        <Participant Id="Liferay">
            <ParticipantType Type="ROLE"/>
        </Participant>
    </Participants>
    <Pools>
        <Pool BoundaryVisible="true" Id="Package_gestioneticket_pool1" MainPool="true" Name="Process_gestioneticket" Orientation="HORIZONTAL" Process="Process_gestioneticket">
            <Lanes>
                <Lane Id="Package_gestioneticket_pool1_lan2" Name="SuperUser">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                    <Performers>
                        <Performer>SuperUsers</Performer>
                    </Performers>
                </Lane>
                <Lane Id="Package_gestioneticket_pool1_lan1" Name="Expression lane">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                </Lane>
            </Lanes>
            <NodeGraphicsInfos>
                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </NodeGraphicsInfos>
        </Pool>
        <Pool BoundaryVisible="true" Id="Package_gestioneticket_pool3" MainPool="true" Name="Process_gestioneticket_ase1" Orientation="HORIZONTAL" Process="GestioneHD">
            <Lanes>
                <Lane Id="Package_gestioneticket_pool3_lan2" Name="SuperUser">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="220,220,220" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                    <Performers>
                        <Performer>SuperUser</Performer>
                    </Performers>
                </Lane>
                <Lane Id="Package_gestioneticket_pool3_lan3" Name="Expression lane">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                </Lane>
                <Lane Id="Package_gestioneticket_pool3_lan1" Name="System">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="40,145,195" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="40,145,195" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                    <Performers>
                        <Performer>System</Performer>
                    </Performers>
                </Lane>
            </Lanes>
            <NodeGraphicsInfos>
                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </NodeGraphicsInfos>
        </Pool>
        <Pool BoundaryVisible="true" Id="Package_gestioneticket_pool4" MainPool="true" Name="Process_gestioneticket_ase1" Orientation="HORIZONTAL" Process="GestioneSP">
            <Lanes>
                <Lane Id="Package_gestioneticket_pool4_lan2" Name="Expression lane">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                </Lane>
                <Lane Id="Package_gestioneticket_pool4_lan1" Name="System">
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="40,145,195" IsVisible="true" ToolId="JaWE"/>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="40,145,195" IsVisible="true" ToolId="JaWE"/>
                    </NodeGraphicsInfos>
                    <Performers>
                        <Performer>System</Performer>
                    </Performers>
                </Lane>
            </Lanes>
            <NodeGraphicsInfos>
                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,215" IsVisible="true" ToolId="JaWE"/>
            </NodeGraphicsInfos>
        </Pool>
    </Pools>
    <WorkflowProcesses>
        <WorkflowProcess AccessLevel="PUBLIC" Id="Process_gestioneticket">
            <ProcessHeader/>
            <DataFields>
                <DataField Id="Area" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="Azienda" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                    <Length>Azienda</Length>
                </DataField>
                <DataField Id="Azione" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioneCorrente" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniAccettazioneHD" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniAccettazioneSP" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniApertura" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniAperturaSP" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniEsecuzioneHD" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniEsecuzioneSP" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniPresaCarico" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniPreviste" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniRiassegnazioneHD" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniRiassegnazioneSP" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniSospensioneHD" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniSospensioneSP" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="AzioniSvolte" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Canale" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="Categoria" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="Classificazione" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="ClassificazioneDiagnosi" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="ClienteIndiretto" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="Code" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="DataApertura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataAttesaHD" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataAttesaSP" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataFineEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataIntervento" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataPresaCarico" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataPrevistaChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="DataSospensioneCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="Description" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Descrizione" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Diagnosi" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Errore" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Esito" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="FAQs" IsArray="false">
                    <DataType>
                        <DeclaredType Id="References"/>
                    </DataType>
                </DataField>
                <DataField Id="FlowStatus" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="GruppoEsecutore" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="GruppoPortlet" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Impatto" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="InvioMail" IsArray="false">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="Items" IsArray="false">
                    <DataType>
                        <DeclaredType Id="References"/>
                    </DataType>
                </DataField>
                <DataField Id="Login" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="MailAperturaPortale" IsArray="false">
                    <DataType>
                        <BasicType Type="BOOLEAN"/>
                    </DataType>
                </DataField>
                <DataField Id="MailContent" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="MailFromAddress" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>support@cmdbuild.org</InitialValue>
                </DataField>
                <DataField Id="MailRichiedente" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="MailSubject" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="MailToAddress" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Motivazioni" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="NoteAccettazione" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="NoteChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="NoteCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Notes" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="NumeroTicket" IsArray="false">
                    <DataType>
                        <BasicType Type="INTEGER"/>
                    </DataType>
                </DataField>
                <DataField Id="Oggetto" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Operatore" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="Process_gestioneticket_df1" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="Richiedente" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="RichiestaCollegata" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="Sottocategoria" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="StatoTicket" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDAccettazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFHDVerifica" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPPresaInCarico" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TFSPSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDAccettazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TIHDVerifica" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPPresaInCarico" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TISPSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="DATETIME"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDAccettazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTHDVerifica" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPAccettazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPChiusura" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPEsecuzione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPPianificazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPPresaInCarico" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPRiassegnazione" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TTSPSospCliente" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="Telefono" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                </DataField>
                <DataField Id="TempoAzioneCorrente" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="TempoAzioniSvolte" IsArray="false">
                    <DataType>
                        <BasicType Type="FLOAT"/>
                    </DataType>
                </DataField>
                <DataField Id="Tipologia" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Lookup"/>
                    </DataType>
                </DataField>
                <DataField Id="WFAggiornamento" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="loggerLibrary" IsArray="false">
                    <DataType>
                        <BasicType Type="STRING"/>
                    </DataType>
                    <InitialValue>import org.cmdbuild.shark.Logging;
import org.slf4j.LoggerFactory;
import org.slf4j.Logger;

logger = LoggerFactory.getLogger(Logging.LOGGER_NAME);</InitialValue>
                </DataField>
                <DataField Id="Gruppo" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
                <DataField Id="UltimoOperatore" IsArray="false">
                    <DataType>
                        <DeclaredType Id="Reference"/>
                    </DataType>
                </DataField>
            </DataFields>
            <ActivitySets>
                <ActivitySet Id="GestioneHD">
                    <Activities>
                        <Activity Id="Process_gestioneticket_act3">
                            <Event>
                                <StartEvent Trigger="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="53" YCoordinate="196"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act4">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra5"/>
                                            <TransitionRef Id="Process_gestioneticket_tra11"/>
                                            <TransitionRef Id="Process_gestioneticket_tra73"/>
                                            <TransitionRef Id="Process_gestioneticket_tra80"/>
                                            <TransitionRef Id="Process_gestioneticket_tra40"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="396" YCoordinate="194"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK03-VerificaHD" Name="TK03 - VerificaHD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RichiestaCollegata"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteCliente"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaRicezioneRichiesta&quot;&#13;&#10;Condition1=&quot;{js:conditionRicezioneCMDBuild}&quot;&#13;&#10;Template2=&quot;GestioneRichieste_NotificaRicezioneRichiestaWeb&quot;&#13;&#10;Condition2=&quot;{js:conditionRicezioneWeb}&quot;&#13;&#10;Template3=&quot;GestioneRichieste_NotificaRicezioneRichiesta_EN&quot;&#13;&#10;Condition3=&quot;{js:conditionRicezioneCMDBuild_EN}&quot;&#13;&#10;Template4=&quot;GestioneRichieste_NotificaRicezioneRichiestaWeb_EN&quot;&#13;&#10;Condition4=&quot;{js:conditionRicezioneWeb_EN}&quot;&#13;&#10;Template5=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerifica_EN&quot;&#13;&#10;Condition5=dbtmpl:GestioneTicket_EN_SospensioneVerifica_Condition&#13;&#10;Template6=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerificaWeb_EN&quot;&#13;&#10;Condition6=dbtmpl:GestioneTicket_EN_SospensioneVerificaWeb_Condition&#13;&#10;Template7=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerifica&quot;&#13;&#10;Condition7=dbtmpl:GestioneTicket_SospensioneVerifica_Condition&#13;&#10;Template8=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerificaWeb&quot;&#13;&#10;Condition8=dbtmpl:GestioneTicket_SospensioneVerificaWeb_Condition&#13;&#10;GestioneTicket_QueryAzioniVerificaHD=dbtmpl:GestioneTicket_QueryAzioniVerificaHD&#13;&#10;GestioneTicket_QueryNazione=dbtmpl:GestioneTicket_QueryNazione&#13;&#10;GestioneTicket_QueryNazioneAzienda=dbtmpl:GestioneTicket_QueryNazioneAzienda"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;Riepilogo cliente&quot;&#13;&#10; ReportType=&quot;custom&quot;&#13;&#10; ReportCode=&quot;Riepilogo cliente&quot;&#13;&#10; ForcePDF=1&#13;&#10; Azienda={client:Azienda}&#13;&#10; Cliente=Azienda"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="383" YCoordinate="95"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK04-PianificazioneHD" Name="TK04 - PianificazioneHD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="DataPianificazione"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="605" YCoordinate="398"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK05-EsecuzioneHD" Name="TK05 - Esecuzione HD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Motivazioni"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="DataPrevistaChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="DataIntervento"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="AzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="TempoAzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniEsecuzioneHD"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteCliente"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaSospensioneRichiesta&quot;&#13;&#10;Condition1=dbtmpl:GestioneTicket_SospensioneEsecuzione_Condition&#13;&#10;Template2=&quot;GestioneRichieste_NotificaSospensioneRichiestaWeb&quot;&#13;&#10;Condition2=dbtmpl:GestioneTicket_SospensioneWebEsecuzione_Condition&#13;&#10;Template3=&quot;GestioneRichieste_NotificaSospensioneRichiesta_EN&quot;&#13;&#10;Condition3=dbtmpl:GestioneTicket_EN_SospensioneEsecuzione_Condition&#13;&#10;Template4=&quot;GestioneRichieste_NotificaSospensioneRichiestaWeb_EN&quot;&#13;&#10;Condition4=dbtmpl:GestioneTicket_EN_SospensioneWebEsecuzione_Condition&#13;&#10;&#13;&#10;GestioneTicket_QueryAzioniEsecuzioneHD=dbtmpl:GestioneTicket_QueryAzioniEsecuzioneHD&#13;&#10;GestioneTicket_QueryNazioneAziendaServer=dbtmpl:GestioneTicket_QueryNazioneAziendaServer"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;Timesheet&quot;&#13;&#10; ButtonLabel=&quot;Registrazione ore&quot;&#13;&#13;&#10; Ore=&quot;TempoAzioneCorrente&quot;&#13;&#10; Data=&quot;DataApertura&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="739" YCoordinate="398"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS05-PianificazioneHD" Name="SYS05 - PianificazioneHD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Pianificato");
DataPianificazione=Calendar.getInstance().getTime();;
AzioneCorrente="";

TFHDPianificazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDPianificazione)
	.with("date2",TFHDPianificazione)
	.execute();

TTHDPianificazione+=spResultSet.get("activitytime");

TIHDPianificazione = null;
TFHDPianificazione = null;
UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="604" YCoordinate="51"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS06-Esecuzione" Name="SYS06 - Esecuzione">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Esecuzione");

//concatenazione data e azione intervento se presente
if(AzioneCorrente!=null &amp;&amp; !AzioneCorrente.equalsIgnoreCase("")){
	
	//calcolo l'operatore
	operatore = _CurrentUser.getDescription();

	//se è la prima azione salto il ";"
	if(!AzioniSvolte.isEmpty())
		AzioniSvolte+="&lt;br/&gt; ";
	
	//ATTENZIONE: la data viene inserita solo se c'è un'intervento compilato!
	if(DataIntervento!=null){
		java.text.DateFormat df = new java.text.SimpleDateFormat("dd/MM/yyyy");
		AzioniSvolte+="&lt;b&gt;"+operatore+" - "+df.format(DataIntervento)+"&lt;/b&gt;&lt;br/&gt;";
	}
	else
		AzioniSvolte+="&lt;b&gt;"+operatore+"&lt;/b&gt;&lt;br/&gt;";
	AzioniSvolte+=AzioneCorrente+"&lt;br/&gt;";
	AzioniSvolte+="&lt;i&gt;"+"[Tempo impiegato:"+TempoAzioneCorrente+" ore]&lt;/i&gt;&lt;br/&gt;";
}
AzioneCorrente="";
DataIntervento=null;
TempoAzioniSvolte+=TempoAzioneCorrente;
TempoAzioneCorrente=null;

TFHDEsecuzione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDEsecuzione)
	.with("date2",TFHDEsecuzione)
	.execute();

TTHDEsecuzione+=spResultSet.get("activitytime");

TIHDEsecuzione = null;
TFHDEsecuzione = null;

TIHDEsecuzione = Calendar.getInstance().getTime();

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="740" YCoordinate="52"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act6">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra9"/>
                                            <TransitionRef Id="Process_gestioneticket_tra12"/>
                                            <TransitionRef Id="Process_gestioneticket_tra16"/>
                                            <TransitionRef Id="Process_gestioneticket_tra88"/>
                                            <TransitionRef Id="Process_gestioneticket_tra49"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="921" YCoordinate="62"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK06-ChusuraHD" Name="TK06 - Chiusura HD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataPrevistaChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Esito"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="InvioMail"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaChiusuraRichiesta&quot;&#13;&#10;Condition1=&quot;{js:conditionCloseCMDBuild}&quot;&#13;&#10;Template2=&quot;GestioneRichieste_NotificaChiusuraRichiestaWeb&quot;&#13;&#10;Condition2=&quot;{js:conditionCloseWeb}&quot;&#13;&#10;Template3=&quot;GestioneRichieste_NotificaChiusuraRichiesta_EN&quot;&#13;&#10;Condition3=&quot;{js:conditionCloseCMDBuild_EN}&quot;&#13;&#10;Template4=&quot;GestioneRichieste_NotificaChiusuraRichiestaWeb_EN&quot;&#13;&#10;Condition4=&quot;{js:conditionCloseWeb_EN}&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                                <ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;Timesheet&quot;&#13;&#10; ButtonLabel=&quot;Registrazione ore&quot;&#13;&#10; Data=&quot;DataApertura&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="895" YCoordinate="107"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act5">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="1039" YCoordinate="53"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act10">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra27"/>
                                            <TransitionRef Id="Process_gestioneticket_tra26"/>
                                            <TransitionRef Id="Process_gestioneticket_tra28"/>
                                            <TransitionRef Id="Process_gestioneticket_tra30"/>
                                            <TransitionRef Id="Process_gestioneticket_tra113"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="661" YCoordinate="71"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS04-InoltroSP" Name="SYS04 - InoltroSP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="PresaCaricoSP";

AzioniApertura=null;
AzioniRiassegnazioneHD=null;
AzioniSospensioneHD=null;
AzioniAccettazioneHD=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="378" YCoordinate="54"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act13">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="113" YCoordinate="69"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS17-ImpostazioneFine" Name="SYS17-ImpostazioneFine">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="Fine";
TFHDChiusura = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDChiusura)
	.with("date2",TFHDChiusura)
	.execute();

TTHDChiusura+=spResultSet.get("activitytime");

TIHDChiusura = null;
TFHDChiusura = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="893" YCoordinate="39"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK09-RiassegnazioneHD" Name="TK09 - Riassegnazione HD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Azienda"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniRiassegnazioneHD"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="375" YCoordinate="321"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="GruppoEsecutoreHD" Name="GruppoEsecutoreHD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Classificazione_id=Sottocategoria.getId();
Area_id=0;

if(Area!= null &amp;&amp; Area.getId()&gt;0)
	Area_id=Area.getId();

spResultSet=cmdb.callFunction("wf_gestioneticket_getexecutor")
	.with("classificazione",Classificazione_id)
	.with("area",Area_id)
	.execute();

GruppoEsecutore=spResultSet.get("helpdesk");
gruppi = cmdb.queryClass("Role").with("Code", GruppoEsecutore).fetch();
if(gruppi!=null &amp;&amp; gruppi.size()&gt;0){
	Gruppo = cmdb.referenceTypeFrom(gruppi.get(0));
}

Errore="";
if(GruppoEsecutore==null || GruppoEsecutore.equals("")){
	Errore="La categoria selezionata non ha alcun gruppo helpdesk associato. Contattare l'amministratore.";
} else {

	if(Categoria!=null &amp;&amp; Categoria.getId()&gt;0) {
		// mail sistemistica 
		cdCategoria = cmdb.cardFrom(Categoria);
		if( "SIST".equalsIgnoreCase(cdCategoria.get("Code"))) {
	
			spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail_new")
				.with("processid",ProcessId.intValue())
				.with("groupname",GruppoEsecutore)
				.with("areaid",0)
				.with("templatename","GestioneRichieste_Assegnazione")
				.execute();
		}
	}
}

AzioniApertura=null;
AzioniRiassegnazioneHD=null;
AzioniSospensioneHD=null;
AzioniAccettazioneHD=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                    <Split Type="Parallel">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra90"/>
                                            <TransitionRef Id="Process_gestioneticket_tra86"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="108" YCoordinate="184"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS10-InoltroSP" Name="SYS10 - InoltroSP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="PianificazioneSP";

AzioniApertura=null;
AzioniRiassegnazioneHD=null;
AzioniSospensioneHD=null;
AzioniAccettazioneHD=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="899" YCoordinate="135"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act28">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan1" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="1047" YCoordinate="151"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK07-SospensioneHD" Name="TK07 - Sospensione Cliente">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Motivazioni"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniSospensioneHD"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                                <ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;Timesheet&quot;&#13;&#10; ButtonLabel=&quot;Registrazione ore&quot;&#13;&#10; Data=&quot;DataApertura&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1238" YCoordinate="369"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act20">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra53"/>
                                            <TransitionRef Id="Process_gestioneticket_tra77"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="1083" YCoordinate="404"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK00-GruppoAssenteHD" Name="TK00 - GruppoAssenteHD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>SuperUsers</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Errore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="107" YCoordinate="70"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act18">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra44"/>
                                            <TransitionRef Id="Process_gestioneticket_tra39"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="401" YCoordinate="464"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS07-AttesaCliente" Name="SYS07 - Attesa Cliente">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","AttesaCliente");
DataSospensioneCliente=Calendar.getInstance().getTime();

AzioniApertura=null;
AzioniRiassegnazioneHD=null;
AzioniSospensioneHD=null;
AzioniAccettazioneHD=null;
NoteCliente = "";

TIHDSospCliente = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1237" YCoordinate="444"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS10-AttesaHD" Name="SYS10 - Attesa HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","AttesaHD");
DataAttesaHD=Calendar.getInstance().getTime();

AzioniApertura=null;
AzioniRiassegnazioneHD=null;
AzioniSospensioneHD=null;
AzioniAccettazioneHD=null;

TIHDAccettazione = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1239" YCoordinate="199"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS06-PreparazioneChiusura">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Chiusura");
DataFineEsecuzione=Calendar.getInstance().getTime();
TIHDChiusura = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="893" YCoordinate="186"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS07-NuovaEsecuzione" Name="SYS07 - Nuova Esecuzione">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Esecuzione");
AzioniEsecuzioneHD=null;
TIHDEsecuzione = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="847" YCoordinate="396"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS03-PreVerificaHD" Name="SYS03 - Pre Verifica HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TIHDVerifica = Calendar.getInstance().getTime();
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                    <Split Type="Parallel">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra117"/>
                                            <TransitionRef Id="Process_gestioneticket_tra1"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="248" YCoordinate="53"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS03-PostVerificaHD" Name="SYS03 - Post Verifica HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","PresoCarico");

TFHDVerifica = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDVerifica)
	.with("date2",TFHDVerifica)
	.execute();

TTHDVerifica+=spResultSet.get("activitytime");

TIHDVerifica = null;
TFHDVerifica = null;
MailAperturaPortale = false;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="501" YCoordinate="59"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS09-PreRiassegnazioneHD1" Name="SYS09 - Pre Riassegnazione HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TIHDRiassegnazione = Calendar.getInstance().getTime();
UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="373" YCoordinate="249"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS09-PostRiassegnazioneHD1" Name="SYS09 - Post Riassegnazione HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFHDRiassegnazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDRiassegnazione)
	.with("date2",TFHDRiassegnazione)
	.execute();

TTHDRiassegnazione+=spResultSet.get("activitytime");

TIHDRiassegnazione = null;
TFHDRiassegnazione = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="375" YCoordinate="392"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS07-PostSospensioneHD" Name="SYS07-Post Sospensione HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFHDSospCliente = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TIHDSospCliente)
	.with("date2",TFHDSospCliente)
	.execute();

TTHDSospCliente+=spResultSet.get("activitytime");

TIHDSospCliente = null;
TFHDSospCliente = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1238" YCoordinate="292"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS04-PrePianificazioneHD" Name="SYS04 - Pre Pianificazione HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TIHDPianificazione = Calendar.getInstance().getTime();
UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="503" YCoordinate="396"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK03-VerificaHD1" Name="TK03 - VerificaHD">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="MailRichiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RichiestaCollegata"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteCliente"/>
                                <ExtendedAttribute Name="createModifyCard" Value="ClassName=&quot;ReferenteAzienda&quot;&#13;&#10;ObjId=&#13;client:Richiedente&#13;&#10;ButtonLabel=&quot;Crea/Modificaichiedente&quot;&#13;&#10;Richiedente"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaRicezioneRichiesta&quot;&#13;&#10;Condition1=&quot;{js:conditionRicezioneCMDBuild}&quot;&#13;&#10;Template2=&quot;GestioneRichieste_NotificaRicezioneRichiestaWeb&quot;&#13;&#10;Condition2=&quot;{js:conditionRicezioneWeb}&quot;&#13;&#10;Template3=&quot;GestioneRichieste_NotificaRicezioneRichiesta_EN&quot;&#13;&#10;Condition3=&quot;{js:conditionRicezioneCMDBuild_EN}&quot;&#13;&#10;Template4=&quot;GestioneRichieste_NotificaRicezioneRichiestaWeb_EN&quot;&#13;&#10;Condition4=&quot;{js:conditionRicezioneWeb_EN}&quot;&#13;&#10;Template5=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerifica_EN&quot;&#13;&#10;Condition5=dbtmpl:GestioneTicket_EN_SospensioneVerifica_Condition&#13;&#10;Template6=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerificaWeb_EN&quot;&#13;&#10;Condition6=dbtmpl:GestioneTicket_EN_SospensioneVerificaWeb_Condition&#13;&#10;Template7=&quot;GestioneRichieste_NotificaSospensioneRichiesta&quot;&#13;&#10;Condition7=dbtmpl:GestioneTicket_SospensioneVerifica_Condition&#13;&#10;Template8=&quot;GestioneRichieste_NotificaSospensioneRichiestaVerificaWeb&quot;&#13;&#10;Condition8=dbtmpl:GestioneTicket_SospensioneVerificaWeb_Condition&#13;&#10;GestioneTicket_QueryAzioniVerificaHD=dbtmpl:GestioneTicket_QueryAzioniVerificaHD&#13;&#10;GestioneTicket_QueryNazione=dbtmpl:GestioneTicket_QueryNazione&#13;&#10;GestioneTicket_QueryNazioneAzienda=dbtmpl:GestioneTicket_QueryNazioneAzienda"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="createReport" Value="ButtonLabel=&quot;Riepilogo cliente&quot;&#13;&#10; ReportType=&quot;custom&quot;&#13;&#10; ReportCode=&quot;Riepilogo cliente&quot;&#13;&#10; ForcePDF=1&#13;&#10; Cliente=&quot;{client:Azienda}&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool3_lan3" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="381" YCoordinate="15"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                    </Activities>
                    <Transitions>
                        <Transition From="Process_gestioneticket_act3" Id="Process_gestioneticket_tra3" To="GruppoEsecutoreHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act4" Id="Process_gestioneticket_tra5" To="SYS04-PrePianificazioneHD">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("PianificazioneHD");<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK04-PianificazioneHD" Id="Process_gestioneticket_tra6" To="SYS05-PianificazioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS05-PianificazioneHD" Id="Process_gestioneticket_tra7" To="TK05-EsecuzioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK05-EsecuzioneHD" Id="Process_gestioneticket_tra8" To="SYS06-Esecuzione">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act6" Id="Process_gestioneticket_tra9" To="SYS07-NuovaEsecuzione">
                            <Condition Type="OTHERWISE">
                                <Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS06-Esecuzione" Id="Process_gestioneticket_tra10" To="Process_gestioneticket_act6">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act4" Id="Process_gestioneticket_tra11" To="SYS06-PreparazioneChiusura">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("ChiusuraHD")<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act6" Id="Process_gestioneticket_tra12" To="SYS06-PreparazioneChiusura">
                            <Condition Type="CONDITION">"Chiusura".equalsIgnoreCase(AzioniEsecuzioneHD.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK06-ChusuraHD" Id="Process_gestioneticket_tra14" To="SYS17-ImpostazioneFine">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act6" Id="Process_gestioneticket_tra16" To="SYS10-AttesaHD">
                            <Condition Type="CONDITION">"AccettazioneHD".equalsIgnoreCase(AzioniEsecuzioneHD.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="1163" YCoordinate="626"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS17-ImpostazioneFine" Id="Process_gestioneticket_tra25" To="Process_gestioneticket_act5">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS03-PostVerificaHD" Id="Process_gestioneticket_tra15" To="Process_gestioneticket_act10">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act10" Id="Process_gestioneticket_tra26" To="SYS10-AttesaHD">
                            <Condition Type="CONDITION">"AccettazioneHD".equalsIgnoreCase(AzioniApertura.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                                    <Coordinates XCoordinate="716" YCoordinate="162"/>
                                    <Coordinates XCoordinate="1385" YCoordinate="162"/>
                                    <Coordinates XCoordinate="1384" YCoordinate="368"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act10" Id="Process_gestioneticket_tra27" To="SYS06-PreparazioneChiusura">
                            <Condition Type="CONDITION">"ChiusuraDiretta".equalsIgnoreCase(AzioniApertura.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act10" Id="Process_gestioneticket_tra28" To="SYS04-PrePianificazioneHD">
                            <Condition Type="CONDITION">"GestioneHD".equalsIgnoreCase(AzioniApertura.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS04-InoltroSP" Id="Process_gestioneticket_tra29" To="Process_gestioneticket_act13">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act10" Id="Process_gestioneticket_tra30" Name="sp / info  / accet. utente" To="SYS04-InoltroSP">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_BEZIER" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act4" Id="Process_gestioneticket_tra73" To="SYS09-PreRiassegnazioneHD1">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("RiassegnazioneHD");<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK09-RiassegnazioneHD" Id="Process_gestioneticket_tra74" To="SYS09-PostRiassegnazioneHD1">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act4" Id="Process_gestioneticket_tra80" To="SYS03-PreVerificaHD">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("AccettazioneHD")<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="GruppoEsecutoreHD" Id="Process_gestioneticket_tra86" To="Process_gestioneticket_act4">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS10-InoltroSP" Id="Process_gestioneticket_tra87" To="Process_gestioneticket_act28">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act6" Id="Process_gestioneticket_tra88" To="SYS10-InoltroSP">
                            <Condition Type="CONDITION">"InoltroSP".equalsIgnoreCase(AzioniEsecuzioneHD.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act4" Id="Process_gestioneticket_tra40" To="SYS07-AttesaCliente">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("SospensioneHD")</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act6" Id="Process_gestioneticket_tra49" To="SYS07-AttesaCliente">
                            <Condition Type="CONDITION">"SospensioneHD".equalsIgnoreCase(AzioniEsecuzioneHD.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act20" Id="Process_gestioneticket_tra53" To="SYS06-PreparazioneChiusura">
                            <Condition Type="CONDITION">"ChiusuraHD".equalsIgnoreCase(AzioniSospensioneHD.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS07-PostSospensioneHD" Id="Process_gestioneticket_tra50" To="Process_gestioneticket_act20">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act20" Id="Process_gestioneticket_tra77" To="SYS07-NuovaEsecuzione">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="GruppoEsecutoreHD" Id="Process_gestioneticket_tra90" To="TK00-GruppoAssenteHD">
                            <Condition Type="CONDITION">GruppoEsecutore==null || GruppoEsecutore.equals("");</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK00-GruppoAssenteHD" Id="Process_gestioneticket_tra92" To="GruppoEsecutoreHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="154" YCoordinate="332"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act18" Id="Process_gestioneticket_tra39" To="SYS04-InoltroSP">
                            <Condition Type="CONDITION">"SP".equalsIgnoreCase(AzioniRiassegnazioneHD.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act18" Id="Process_gestioneticket_tra44" To="SYS03-PreVerificaHD">
                            <Condition Type="OTHERWISE"/>
                            <Description>"HD".equalsIgnoreCase(AzioniRiassegnazioneHD.getCode())</Description>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="335" YCoordinate="492"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS07-AttesaCliente" Id="Process_gestioneticket_tra45" To="TK07-SospensioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS10-AttesaHD" Id="Process_gestioneticket_tra48" To="TK03-VerificaHD1">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE">
                                    <Coordinates XCoordinate="1219" YCoordinate="367"/>
                                    <Coordinates XCoordinate="1218" YCoordinate="180"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS06-PreparazioneChiusura" Id="Process_gestioneticket_tra75" To="TK06-ChusuraHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS07-NuovaEsecuzione" Id="Process_gestioneticket_tra97" To="TK05-EsecuzioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS03-PreVerificaHD" Id="Process_gestioneticket_tra1" To="TK03-VerificaHD">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK03-VerificaHD" Id="Process_gestioneticket_tra2" To="SYS03-PostVerificaHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS09-PreRiassegnazioneHD1" Id="Process_gestioneticket_tra82" To="TK09-RiassegnazioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS09-PostRiassegnazioneHD1" Id="Process_gestioneticket_tra89" To="Process_gestioneticket_act18">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK07-SospensioneHD" Id="Process_gestioneticket_tra99" To="SYS07-PostSospensioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS04-PrePianificazioneHD" Id="Process_gestioneticket_tra100" To="TK04-PianificazioneHD">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act10" Id="Process_gestioneticket_tra113" To="SYS07-AttesaCliente">
                            <Condition Type="CONDITION">"SospensioneHD".equalsIgnoreCase(AzioniApertura.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS03-PreVerificaHD" Id="Process_gestioneticket_tra117" To="TK03-VerificaHD1">
                            <Condition Type="CONDITION">(MailFromAddress!=null &amp;&amp; !MailFromAddress.equals("")) &amp;&amp;
 !(Richiedente.checkValidity())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK03-VerificaHD1" Id="Process_gestioneticket_tra120" To="SYS03-PostVerificaHD">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                    </Transitions>
                </ActivitySet>
                <ActivitySet Id="GestioneSP">
                    <Activities>
                        <Activity Id="Process_gestioneticket_act8">
                            <Event>
                                <StartEvent Trigger="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="60" YCoordinate="52"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act9">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="1264" YCoordinate="27"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK12-PianificazioneSP" Name="TK12 - PianificazioneSP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="DataPrevistaChiusura"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="783" YCoordinate="103"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK11-PresaInCarico" Name="TK11 - Presa In Carico">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniPresaCarico"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="549" YCoordinate="24"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act17">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra51"/>
                                            <TransitionRef Id="Process_gestioneticket_tra52"/>
                                            <TransitionRef Id="Process_gestioneticket_tra23"/>
                                            <TransitionRef Id="Process_gestioneticket_tra24"/>
                                            <TransitionRef Id="Process_gestioneticket_tra63"/>
                                            <TransitionRef Id="Process_gestioneticket_tra64"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="427" YCoordinate="111"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK14-EsecuzioneSP" Name="TK14 - Esecuzione SP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataPrevistaChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="DataIntervento"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="AzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="TempoAzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NoteAccettazione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniEsecuzioneSP"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteCliente"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;&#13;&#10;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaSospensioneRichiesta&quot;&#13;&#10;Condition1=dbtmpl:GestioneTicket_SospensioneEsecuzioneSP_Condition&#13;&#10;Template2=&quot;GestioneRichieste_NotificaSospensioneRichiestaWeb&quot;&#13;&#10;Condition2=dbtmpl:GestioneTicket_SospensioneWebEsecuzioneSP_Condition&#13;&#10;Template3=&quot;GestioneRichieste_NotificaSospensioneRichiesta_EN&quot;&#13;&#10;Condition3=dbtmpl:GestioneTicket_EN_SospensioneEsecuzioneSP_Condition&#13;&#10;Template4=&quot;GestioneRichieste_NotificaSospensioneRichiestaWeb_EN&quot;&#13;&#10;Condition4=dbtmpl:GestioneTicket_EN_SospensioneWebEsecuzioneSP_Condition&#13;&#10;GestioneTicket_QueryAzioniEsecuzioneSP=dbtmpl:GestioneTicket_QueryAzioniEsecuzioneSP&#13;&#10;GestioneTicket_QueryNazioneAziendaServer=dbtmpl:GestioneTicket_QueryNazioneAziendaServer"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="961" YCoordinate="395"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS11-PresaCarico" Name="SYS11 - PresaCarico">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Specialista");
DataPresaCarico=Calendar.getInstance().getTime();

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="542" YCoordinate="36"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS12-PianificazioneSP" Name="SYS12 - PianificazioneSP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Pianificato");
DataPianificazione=Calendar.getInstance().getTime();;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="782" YCoordinate="37"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS13-Esecuzione" Name="SYS13 - Esecuzione">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFSPEsecuzione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPEsecuzione)
	.with("date2",TFSPEsecuzione)
	.execute();

TTSPEsecuzione+=spResultSet.get("activitytime");

TISPEsecuzione = null;
TFSPEsecuzione = null;

TempoAzioniSvolte = TempoAzioniSvolte + TempoAzioneCorrente;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="958" YCoordinate="36"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK14-AccettazioneSP" Name="TK14 - Accettazione SP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Motivazioni"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1323" YCoordinate="338"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK15-ChusuraSP" Name="TK15 - Chiusura SP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="ClassificazioneDiagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniPreviste"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataPrevistaChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NoteAccettazione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Esito"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteChiusura"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="InvioMail"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;&#13;&#10;Template1=&quot;GestioneRichieste_NotificaChiusuraRichiesta&quot;&#13;&#10;Condition1=&quot;{js:conditionCloseCMDBuild}&quot;&#13;&#10;Template2=&quot;GestioneRichieste_NotificaChiusuraRichiestaWeb&quot;&#13;&#10;Condition2=&quot;{js:conditionCloseWeb}&quot;&#13;&#10;Template3=&quot;GestioneRichieste_NotificaChiusuraRichiesta_EN&quot;&#13;&#10;Condition3=&quot;{js:conditionCloseCMDBuild_EN}&quot;&#13;&#10;Template4=&quot;GestioneRichieste_NotificaChiusuraRichiestaWeb_EN&quot;&#13;&#10;Condition4=&quot;{js:conditionCloseWeb_EN}&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1118" YCoordinate="122"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act101">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra301"/>
                                            <TransitionRef Id="Process_gestioneticket_tra54"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="566" YCoordinate="326"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act61">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra121"/>
                                            <TransitionRef Id="Process_gestioneticket_tra161"/>
                                            <TransitionRef Id="Process_gestioneticket_tra91"/>
                                            <TransitionRef Id="Process_gestioneticket_tra60"/>
                                            <TransitionRef Id="Process_gestioneticket_tra47"/>
                                            <TransitionRef Id="Process_gestioneticket_tra79"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="1139" YCoordinate="45"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS17-ImpostazioneFine1" Name="SYS17-ImpostazioneFine">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="Fine";

TFSPChiusura = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPChiusura)
	.with("date2",TFSPChiusura)
	.execute();

TTHDChiusura+=spResultSet.get("activitytime");

TISPChiusura = null;
TFSPChiusura = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1121" YCoordinate="14"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act71">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra57"/>
                                            <TransitionRef Id="Process_gestioneticket_tra58"/>
                                            <TransitionRef Id="Process_gestioneticket_tra112"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="1182" YCoordinate="339"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK16-RiassegnazioneSP" Name="TK16 - RiassegnazioneSP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Motivazioni"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniRiassegnazioneSP"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioniSvolte"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="375" YCoordinate="325"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS13-AccettazioneHD" Name="SYS13 - AccettazioneHD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="AccettazioneHD";</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1117" YCoordinate="118"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act22">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="1242" YCoordinate="135"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="CalcoloGruppoSpecialista" Name="CalcoloGruppoSpecialista">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Classificazione_id=Sottocategoria.getId();

spResultSet=cmdb.callFunction("wf_gestioneticket_getexecutor")
	.with("classificazione",Classificazione_id)
	.with("area",Richiedente.getId())
	.execute();

GruppoEsecutore=spResultSet.get("specialista");
gruppi = cmdb.queryClass("Role").with("Code", GruppoEsecutore).fetch();
if(gruppi!=null &amp;&amp; gruppi.size()&gt;0){
	Gruppo = cmdb.referenceTypeFrom(gruppi.get(0));
}

Errore="";
if(GruppoEsecutore==null || GruppoEsecutore.equals("")){
	Errore="La categoria selezionata non ha alcun gruppo specialista associato. Contattare l'amministratore.";
}

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;
AzioniPresaCarico=null;

if(Azione.equalsIgnoreCase("SospensioneSP")){
	spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
		.with("processid",ProcessId.intValue())
		//.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
		.with("areaid",0)
		.with("templatename","GestioneRichieste_NotificaSospensioneRichiesta")
		.execute();
}

DataPrevistaChiusura = null;

// mail sistemistica 
cdCategoria = cmdb.cardFrom(Categoria);
if( "SIST".equalsIgnoreCase(cdCategoria.get("Code"))) {
	
	spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail_new")
		.with("processid",ProcessId.intValue())
		.with("groupname",GruppoEsecutore)
		.with("areaid",0)
		.with("templatename","GestioneRichieste_Assegnazione")
		.execute();
}</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                    <Split Type="Parallel">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra66"/>
                                            <TransitionRef Id="Process_gestioneticket_tra84"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="129" YCoordinate="41"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK16-Riassegnazione">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="PresaCaricoSP";</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="297" YCoordinate="40"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act21">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra72"/>
                                            <TransitionRef Id="Process_gestioneticket_tra68"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="399" YCoordinate="38"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK16-InoltroRiassegnazioneHD" Name="TK16 - Inoltro Riassegnazione HD">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">Azione="RiassegnazioneHD";

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="377" YCoordinate="121"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act25">
                            <Event>
                                <EndEvent Result="None"/>
                            </Event>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan1" ToolId="JaWE" Width="31">
                                    <Coordinates XCoordinate="505" YCoordinate="134"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK00-GruppoAssenteSP" Name="TK00 - GruppoAssenteSP">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>"SuperUser"</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Errore"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="132" YCoordinate="124"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="TK13-SospensioneClienteSP" Name="TK13 - Sospensione cliente">
                            <Implementation>
                                <No/>
                            </Implementation>
                            <Performers>
                                <Performer>GruppoEsecutore</Performer>
                            </Performers>
                            <ExtendedAttributes>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="DataApertura"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="NumeroTicket"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Richiedente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Oggetto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Descrizione"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Categoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Sottocategoria"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Tipologia"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Impatto"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="Diagnosi"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Operatore"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniSospensioneSP"/>
                                <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Motivazioni"/>
                                <ExtendedAttribute Name="manageEmail" Value="ButtonLabel=&quot;Mail&quot;"/>
                                <ExtendedAttribute Name="openNote" Value="ButtonLabel=&quot;Note&quot;"/>
                                <ExtendedAttribute Name="openAttachment" Value="ButtonLabel=&quot;Allegati&quot;"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="TempoAzioneCorrente"/>
                                <ExtendedAttribute Name="VariableToProcess_VIEW" Value="AzioniSvolte"/>
                            </ExtendedAttributes>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1327" YCoordinate="108"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS07-AttesaClienteSP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","AttesaCliente");
DataSospensioneCliente=Calendar.getInstance().getTime();

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;

TISPSospCliente = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1327" YCoordinate="180"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS14-NuovaEsecuzione">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Esecuzione");

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="959" YCoordinate="222"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="Process_gestioneticket_act19">
                            <Route GatewayType="Exclusive"/>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Split Type="Exclusive">
                                        <TransitionRefs>
                                            <TransitionRef Id="Process_gestioneticket_tra95"/>
                                            <TransitionRef Id="Process_gestioneticket_tra93"/>
                                        </TransitionRefs>
                                    </Split>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="43">
                                    <Coordinates XCoordinate="1251" YCoordinate="131"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS15-ImpostazioneStatoChiusura">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Chiusura");
DataFineEsecuzione=Calendar.getInstance().getTime();

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;

TISPChiusura = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1117" YCoordinate="218"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS14-AttesaSP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","AttesaSP");
DataAttesaSP=Calendar.getInstance().getTime();

AzioniEsecuzioneSP=null;
AzioniRiassegnazioneSP=null;
AzioniSospensioneSP=null;
AzioniAccettazioneSP=null;

TISPAccettazione = Calendar.getInstance().getTime();</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1321" YCoordinate="410"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS16-PreRiassegnazioneSP" Name="SYS16 - Pre Riassegnazione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TISPRiassegnazione = Calendar.getInstance().getTime();
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="375" YCoordinate="247"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS16-PostRiassegnazioneSP1" Name="SYS16 - Post Riassegnazione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFSPRiassegnazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPRiassegnazione)
	.with("date2",TFSPRiassegnazione)
	.execute();

TTSPRiassegnazione+=spResultSet.get("activitytime");

TISPRiassegnazione = null;
TFSPRiassegnazione = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="377" YCoordinate="399"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS11-PrePresaCaricoSP" Name="SYS11 - Pre PresaCarico SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TISPRiassegnazione = Calendar.getInstance().getTime();
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="445" YCoordinate="24"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS11-PostPresaCaricoSP" Name="SYS11 - Post PresaCarico SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","PresoCarico");

TFSPRiassegnazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPRiassegnazione)
	.with("date2",TFSPRiassegnazione)
	.execute();

TTSPRiassegnazione+=spResultSet.get("activitytime");

TISPRiassegnazione = null;
TFSPRiassegnazione = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="652" YCoordinate="25"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS12-PrePianificazioneSP" Name="SYS12 - Pre Pianificazione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TISPPianificazione = Calendar.getInstance().getTime();
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="680" YCoordinate="104"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS12-PostPianificazioneSP" Name="SYS12 - Post Pianificazione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFSPPianificazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPPianificazione)
	.with("date2",TFSPPianificazione)
	.execute();

TTHDPianificazione+=spResultSet.get("activitytime");

TISPPianificazione = null;
TFSPPianificazione = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="884" YCoordinate="104"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS13-AttesaClienteSP" Name="SYS13 - Post Sosp Cliente SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFSPSospCliente = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPSospCliente)
	.with("date2",TFSPSospCliente)
	.execute();

TTSPSospCliente+=spResultSet.get("activitytime");

TISPSospCliente = null;
TFSPSospCliente = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1329" YCoordinate="33"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS14-PostAccettazioneSP" Name="SYS14 - Post Accettazione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TFSPAccettazione = Calendar.getInstance().getTime();

spResultSet=cmdb.callFunction("wf_gestioneticket_getactivitytime")
	.with("date1",TISPAccettazione)
	.with("date2",TFSPAccettazione)
	.execute();

TTSPAccettazione+=spResultSet.get("activitytime");

TISPAccettazione = null;
TFSPAccettazione = null;

UltimoOperatore = Operatore;
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="1322" YCoordinate="265"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                        <Activity Id="SYS14-PreEsecuzioneSP" Name="SYS14 - Pre Esecuzione SP">
                            <Implementation>
                                <Task>
                                    <TaskScript>
                                        <Script ScriptType="text/java">TISPEsecuzione = Calendar.getInstance().getTime();
Operatore = null;</Script>
                                    </TaskScript>
                                </Task>
                            </Implementation>
                            <Performers>
                                <Performer/>
                            </Performers>
                            <TransitionRestrictions>
                                <TransitionRestriction>
                                    <Join Type="Exclusive"/>
                                </TransitionRestriction>
                            </TransitionRestrictions>
                            <NodeGraphicsInfos>
                                <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool4_lan2" ToolId="JaWE" Width="90">
                                    <Coordinates XCoordinate="961" YCoordinate="311"/>
                                </NodeGraphicsInfo>
                            </NodeGraphicsInfos>
                        </Activity>
                    </Activities>
                    <Transitions>
                        <Transition From="Process_gestioneticket_act8" Id="Process_gestioneticket_tra20" To="CalcoloGruppoSpecialista">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra51" To="SYS11-PrePresaCaricoSP">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("PresaCaricoSP")<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra52" To="SYS12-PrePianificazioneSP">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("PianificazioneSP")<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra91" To="SYS14-PreEsecuzioneSP">
                            <Condition Type="OTHERWISE">
                                <Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act101" Id="Process_gestioneticket_tra301" Name="riassegnazione" To="SYS16-PreRiassegnazioneSP">
                            <Condition Type="CONDITION">"Riassegnazione".equalsIgnoreCase(AzioniPresaCarico.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS13-Esecuzione" Id="Process_gestioneticket_tra101" To="Process_gestioneticket_act61">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS12-PianificazioneSP" Id="Process_gestioneticket_tra71" To="SYS14-PreEsecuzioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS14-PostAccettazioneSP" Id="Process_gestioneticket_tra181" To="Process_gestioneticket_act71">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra121" To="SYS15-ImpostazioneStatoChiusura">
                            <Condition Type="CONDITION">"Chiusura".equalsIgnoreCase(AzioniEsecuzioneSP.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra161" To="SYS14-AttesaSP">
                            <Condition Type="CONDITION">"AccettazioneSP".equalsIgnoreCase(AzioniEsecuzioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK14-EsecuzioneSP" Id="Process_gestioneticket_tra81" To="SYS13-Esecuzione">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS12-PostPianificazioneSP" Id="Process_gestioneticket_tra61" To="SYS12-PianificazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK15-ChusuraSP" Id="Process_gestioneticket_tra141" To="SYS17-ImpostazioneFine1">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act101" Id="Process_gestioneticket_tra54" Name="accettazione" To="SYS11-PresaCarico">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS17-ImpostazioneFine1" Id="Process_gestioneticket_tra56" To="Process_gestioneticket_act9">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act71" Id="Process_gestioneticket_tra57" To="SYS15-ImpostazioneStatoChiusura">
                            <Condition Type="CONDITION">"ChiusuraSP".equalsIgnoreCase(AzioniAccettazioneSP.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act71" Id="Process_gestioneticket_tra58" To="SYS14-PreEsecuzioneSP">
                            <Condition Type="OTHERWISE">
                                <Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS11-PostPresaCaricoSP" Id="Process_gestioneticket_tra55" To="Process_gestioneticket_act101">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS11-PresaCarico" Id="Process_gestioneticket_tra59" To="SYS12-PrePianificazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra60" Name="accettazione hd" To="SYS13-AccettazioneHD">
                            <Condition Type="CONDITION">"AccettazioneHD".equalsIgnoreCase(AzioniEsecuzioneSP.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS13-AccettazioneHD" Id="Process_gestioneticket_tra62" To="Process_gestioneticket_act22">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="CalcoloGruppoSpecialista" Id="Process_gestioneticket_tra66" To="Process_gestioneticket_act17">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS16-PostRiassegnazioneSP1" Id="Process_gestioneticket_tra67" To="Process_gestioneticket_act21">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act21" Id="Process_gestioneticket_tra68" Name="SP" To="TK16-Riassegnazione">
                            <Condition Type="CONDITION">"SP".equalsIgnoreCase(AzioniRiassegnazioneSP.getCode())<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK16-Riassegnazione" Id="Process_gestioneticket_tra69" To="CalcoloGruppoSpecialista">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK16-InoltroRiassegnazioneHD" Id="Process_gestioneticket_tra70" To="Process_gestioneticket_act25">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act21" Id="Process_gestioneticket_tra72" Name="HD" To="TK16-InoltroRiassegnazioneHD">
                            <Condition Type="CONDITION">"HD".equalsIgnoreCase(AzioniRiassegnazioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="CalcoloGruppoSpecialista" Id="Process_gestioneticket_tra84" To="TK00-GruppoAssenteSP">
                            <Condition Type="CONDITION">GruppoEsecutore==null || GruppoEsecutore.equals("");<Expression ScriptType="text/java"/>
                            </Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK00-GruppoAssenteSP" Id="Process_gestioneticket_tra85" To="CalcoloGruppoSpecialista">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="245" YCoordinate="212"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra47" To="SYS07-AttesaClienteSP">
                            <Condition Type="CONDITION">"SospensioneSP".equalsIgnoreCase(AzioniEsecuzioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS07-AttesaClienteSP" Id="Process_gestioneticket_tra76" To="TK13-SospensioneClienteSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS13-AttesaClienteSP" Id="Process_gestioneticket_tra83" To="Process_gestioneticket_act19">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act19" Id="Process_gestioneticket_tra93" To="SYS14-NuovaEsecuzione">
                            <Condition Type="OTHERWISE"/>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="255,128,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS14-NuovaEsecuzione" Id="Process_gestioneticket_tra94" To="SYS14-PreEsecuzioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_BEZIER" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act19" Id="Process_gestioneticket_tra95" To="SYS15-ImpostazioneStatoChiusura">
                            <Condition Type="CONDITION">"ChiusuraSP".equalsIgnoreCase(AzioniSospensioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS15-ImpostazioneStatoChiusura" Id="Process_gestioneticket_tra96" To="TK15-ChusuraSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS14-AttesaSP" Id="Process_gestioneticket_tra65" To="TK14-AccettazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra23" To="SYS14-AttesaSP">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("AccettazioneSP")</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra24" To="SYS07-AttesaClienteSP">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("SospensioneSP")</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra63" To="TK16-InoltroRiassegnazioneHD">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("InoltroHD")</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="525" YCoordinate="349"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act17" Id="Process_gestioneticket_tra64" To="SYS15-ImpostazioneStatoChiusura">
                            <Condition Type="CONDITION">Azione.equalsIgnoreCase("ChiusuraDiretta")</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act61" Id="Process_gestioneticket_tra79" To="SYS16-PreRiassegnazioneSP">
                            <Condition Type="CONDITION">"Riassegnazione".equalsIgnoreCase(AzioniEsecuzioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                                    <Coordinates XCoordinate="702" YCoordinate="325"/>
                                </ConnectorGraphicsInfo>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS16-PreRiassegnazioneSP" Id="Process_gestioneticket_tra102" To="TK16-RiassegnazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK16-RiassegnazioneSP" Id="Process_gestioneticket_tra103" To="SYS16-PostRiassegnazioneSP1">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS11-PrePresaCaricoSP" Id="Process_gestioneticket_tra104" To="TK11-PresaInCarico">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK11-PresaInCarico" Id="Process_gestioneticket_tra105" To="SYS11-PostPresaCaricoSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS12-PrePianificazioneSP" Id="Process_gestioneticket_tra106" To="TK12-PianificazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK12-PianificazioneSP" Id="Process_gestioneticket_tra107" To="SYS12-PostPianificazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK13-SospensioneClienteSP" Id="Process_gestioneticket_tra108" To="SYS13-AttesaClienteSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="TK14-AccettazioneSP" Id="Process_gestioneticket_tra109" To="SYS14-PostAccettazioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="SYS14-PreEsecuzioneSP" Id="Process_gestioneticket_tra110" To="TK14-EsecuzioneSP">
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                        <Transition From="Process_gestioneticket_act71" Id="Process_gestioneticket_tra112" To="SYS07-AttesaClienteSP">
                            <Condition Type="CONDITION">"SospensioneSP".equalsIgnoreCase(AzioniSospensioneSP.getCode())</Condition>
                            <ConnectorGraphicsInfos>
                                <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                            </ConnectorGraphicsInfos>
                        </Transition>
                    </Transitions>
                </ActivitySet>
            </ActivitySets>
            <Activities>
                <Activity Id="TK03-AperturaHD" Name="TK03-AperturaHD">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performers>
                        <Performer>"{dbtmpl:GestioneTicket_PermessiAvvioHelpdesk}"</Performer>
                    </Performers>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="DataApertura"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Canale"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RichiestaCollegata"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Tipologia"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Operatore"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniApertura"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="NoteCliente"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="InvioMail"/>
                    </ExtendedAttributes>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="213" YCoordinate="35"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act12">
                    <Event>
                        <StartEvent Trigger="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="135" YCoordinate="50"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act14">
                    <Event>
                        <EndEvent Result="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="236,120,98" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="1251" YCoordinate="53"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="GestioneHD" Name="GestioneHD">
                    <BlockActivity ActivitySetId="GestioneHD"/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="Exclusive"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="710" YCoordinate="39"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act15">
                    <Route GatewayType="Exclusive"/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="Exclusive"/>
                            <Split Type="Exclusive">
                                <TransitionRefs>
                                    <TransitionRef Id="Process_gestioneticket_tra41"/>
                                    <TransitionRef Id="Process_gestioneticket_tra35"/>
                                    <TransitionRef Id="Process_gestioneticket_tra43"/>
                                </TransitionRefs>
                            </Split>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,229,124" Height="43" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="43">
                            <Coordinates XCoordinate="998" YCoordinate="49"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act16">
                    <Event>
                        <StartEvent Trigger="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="430" YCoordinate="302"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="TK01-AperturaUtente" Name="TK01-Apertura Utente">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performers>
                        <Performer>"{dbtmpl:GestioneTicket_PermessiAvvioLiferay}"</Performer>
                    </Performers>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Login"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Area"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                    </ExtendedAttributes>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="515" YCoordinate="289"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS01-ImpostazioneAzione" Name="SYS01 - ImpostazioneAzione">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">Azione="AccettazioneHD";
MailAperturaPortale=true;
Canale=cmdb.selectLookupByCode("Canale ticket","Portale");

// check cliente indiretto

spResult = cmdb.callFunction("wf_gestioneticket_getclienteindiretto")
	.with("login",Login)
	.execute();

idClienteIndiretto = spResult.get("id");

if(idClienteIndiretto!=null &amp;&amp; idClienteIndiretto!="")
	ClienteIndiretto = cmdb.referenceTypeFrom((int)idClienteIndiretto);</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="517" YCoordinate="150"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="GestioneSP" Name="GestioneSP">
                    <BlockActivity ActivitySetId="GestioneSP"/>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="Exclusive"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,165,121" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="973" YCoordinate="218"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS17-Fine" Name="SYS17 - Fine">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">StatoTicket=cmdb.selectLookupByCode("Stato ticket","Chiuso");
DataChiusura=Calendar.getInstance().getTime();
Azione="Fine";</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="1107" YCoordinate="41"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS03-ImpostazioneAzione" Name="SYS03 - ImpostazioneAzione">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">getAction(azione) {
	if(azione.equalsIgnoreCase("ChiusuraDiretta"))
		return "ChiusuraHD";
	if(azione.equalsIgnoreCase("GestioneHD"))
		return "PianificazioneHD";
	if(azione.equalsIgnoreCase("InoltroSP"))
		return "PresaCaricoSP";
	if(azione.equalsIgnoreCase("AccettazioneHD"))
		return "AccettazioneHD";
	if(azione.equalsIgnoreCase("SospensioneHD"))
		return "SospensioneHD";
	return "";
}

Azione=getAction(AzioniApertura.getCode());

//"InvioMail" is set to "false" by "GestioneAggiornamenti"
if(InvioMail){
    spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
	    .with("processid",ProcessId.intValue())
        //.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
        .with("areaid",0)
	    .with("templatename","GestioneRichieste_NotificaRicezioneRichiesta")
	    .execute();


	if(Azione.equalsIgnoreCase("SospensioneHD")){
	    spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
		    .with("processid",ProcessId.intValue())
		//.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
		.with("areaid",0)
		    .with("templatename","GestioneRichieste_NotificaSospensioneRichiesta")
		    .execute();
	}
}
MailAperturaPortale=false;</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="343" YCoordinate="36"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act29">
                    <Event>
                        <StartEvent Trigger="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="708" YCoordinate="331"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="TK10-AperturaSP" Name="TK10-Apertura Specialisti">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performers>
                        <Performer>"{dbtmpl:GestioneTicket_PermessiAvvioSpecialisti}"</Performer>
                    </Performers>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="DataApertura"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RichiestaCollegata"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Canale"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Tipologia"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Operatore"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="AzioniAperturaSP"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="InvioMail"/>
                    </ExtendedAttributes>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="824" YCoordinate="316"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS10-ImpostazioneAzione" Name="SYS10 - ImpostazioneAzione">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">getAction(azione) {
	if(azione.equalsIgnoreCase("ChiusuraDiretta"))
		return "ChiusuraHD";
	if(azione.equalsIgnoreCase("InoltroHD"))
		return "InoltroHD";
	if(azione.equalsIgnoreCase("GestioneSP"))
		return "PresaCaricoSP";
	if(azione.equalsIgnoreCase("AccettazioneSP"))
		return "AccettazioneSP";
	if(azione.equalsIgnoreCase("SospensioneSP"))
		return "SospensioneSP";
	return "";
}

Azione=getAction(AzioniAperturaSP.getCode());

if(InvioMail){
    spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
	    .with("processid",ProcessId.intValue())
        //.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
        .with("areaid",0)
	    .with("templatename","GestioneRichieste_NotificaRicezioneRichiesta")
	    .execute();
}

spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
	.with("processid",ProcessId.intValue())
	//.with("groupcode",GruppoEsecutore)
	.with("areaid",0)  
	.with("templatename","GestioneRichieste_NotificaInserimentoRichiesta")
    .execute();

InvioMail=true;
UltimoOperatore = Operatore;</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="824" YCoordinate="218"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS02-Apertura" Name="SYS02 - Apertura">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">actualDate=Calendar.getInstance().getTime();
if(DataApertura==null || DataApertura.compareTo(actualDate)&gt;0)
	DataApertura=actualDate;

StatoTicket=cmdb.selectLookupByCode("Stato ticket","Registrato");

Classificazione_id=Sottocategoria.getId();
Area_id=0;

if(Area!= null &amp;&amp; Area.getId()&gt;0)
	Area_id=Area.getId();

if(InvioMail || MailAperturaPortale){
	// helpdesk notify 
	spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
		.with("processid",ProcessId.intValue())
		.with("areaid",Area_id) //template changes for web, cmdbuild
	    .with("templatename","GestioneRichieste_NotificaInserimentoRichiesta")
	    .execute();
}

InvioMail=true;
UltimoOperatore = Operatore;</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <TransitionRestrictions>
                        <TransitionRestriction>
                            <Join Type="Exclusive"/>
                        </TransitionRestriction>
                    </TransitionRestrictions>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="518" YCoordinate="37"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="TK02-AperturaTask" Name="TK02-AperturaTask">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performers>
                        <Performer>SuperUsers</Performer>
                    </Performers>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="adminStart" Value="true"/>
                    </ExtendedAttributes>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan2" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="338" YCoordinate="57"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act1">
                    <Event>
                        <StartEvent Trigger="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan2" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="236" YCoordinate="70"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS01-ImpostazioneAzione1" Name="SYS01 - ImpostazioneAzione">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">Azione="AccettazioneHD";
MailAperturaPortale=false;
Canale=cmdb.selectLookupByCode("Canale ticket","Email");

referenti = cmdb.queryClass("ReferenteAzienda").with("Email", MailRichiedente).fetch();

if(referenti!=null &amp;&amp; referenti.size()&gt;0){
	referente = referenti.get(0);
	Richiedente = cmdb.referenceTypeFrom(referente);
	Azienda = referente.get("Azienda");
}

InvioMail=true;</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan2" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="515" YCoordinate="56"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="TK03a-AperturaSistemistica" Name="TK03a-Apertura Sistemistica">
                    <Implementation>
                        <No/>
                    </Implementation>
                    <Performers>
                        <Performer>"{dbtmpl:GestioneTicket_PermessiAvvioSistemistica}"</Performer>
                    </Performers>
                    <ExtendedAttributes>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="DataApertura"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Oggetto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Descrizione"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Azienda"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Richiedente"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="RichiestaCollegata"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Categoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Sottocategoria"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATEREQUIRED" Value="Impatto"/>
                        <ExtendedAttribute Name="VariableToProcess_UPDATE" Value="Operatore"/>
                    </ExtendedAttributes>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="187,247,190" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="210" YCoordinate="146"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="Process_gestioneticket_act2">
                    <Event>
                        <StartEvent Trigger="None"/>
                    </Event>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="102,204,51" Height="31" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="31">
                            <Coordinates XCoordinate="130" YCoordinate="161"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
                <Activity Id="SYS03a-ImpostazioneAzione" Name="SYS03a - ImpostazioneAzione">
                    <Implementation>
                        <Task>
                            <TaskScript>
                                <Script ScriptType="text/java">getAction(azione) {
	if(azione.equalsIgnoreCase("ChiusuraDiretta"))
		return "ChiusuraHD";
	if(azione.equalsIgnoreCase("GestioneHD"))
		return "PianificazioneHD";
	if(azione.equalsIgnoreCase("InoltroSP"))
		return "PresaCaricoSP";
	if(azione.equalsIgnoreCase("AccettazioneHD"))
		return "AccettazioneHD";
	if(azione.equalsIgnoreCase("SospensioneHD"))
		return "SospensioneHD";
	return "";
}

//Azione=getAction(AzioniApertura.getCode());
Azione = "AccettazioneHD";

//"InvioMail" is set to "false" by "GestioneAggiornamenti"
if(InvioMail){
    spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
	    .with("processid",ProcessId.intValue())
        //.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
        .with("areaid",0)
	    .with("templatename","GestioneRichieste_NotificaRicezioneRichiesta")
	    .execute();


	if(Azione.equalsIgnoreCase("SospensioneHD")){
	    spResultSet=cmdb.callFunction("wf_gestioneticket_sendmail")
		    .with("processid",ProcessId.intValue())
		//.with("groupcode",cmdb.cardFrom(_CurrentGroup).getCode())
		.with("areaid",0)
		    .with("templatename","GestioneRichieste_NotificaSospensioneRichiesta")
		    .execute();
	}
}
MailAperturaPortale=false;
Tipologia = cmdb.selectLookupByCode("Tipo ticket","L1");
Canale = cmdb.selectLookupByCode("Canale ticket","Email");</Script>
                            </TaskScript>
                        </Task>
                    </Implementation>
                    <Performers>
                        <Performer/>
                    </Performers>
                    <NodeGraphicsInfos>
                        <NodeGraphicsInfo BorderColor="0,0,0" FillColor="255,255,204" Height="60" IsVisible="true" LaneId="Package_gestioneticket_pool1_lan1" ToolId="JaWE" Width="90">
                            <Coordinates XCoordinate="341" YCoordinate="148"/>
                        </NodeGraphicsInfo>
                    </NodeGraphicsInfos>
                </Activity>
            </Activities>
            <Transitions>
                <Transition From="Process_gestioneticket_act12" Id="Process_gestioneticket_tra31" To="TK03-AperturaHD">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS03-ImpostazioneAzione" Id="Process_gestioneticket_tra32" To="SYS02-Apertura">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="GestioneHD" Id="Process_gestioneticket_tra34" To="Process_gestioneticket_act15">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act15" Id="Process_gestioneticket_tra35" To="SYS17-Fine">
                    <Condition Type="CONDITION">Azione.equalsIgnoreCase("Fine");<Expression ScriptType="text/java"/>
                    </Condition>
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act16" Id="Process_gestioneticket_tra36" To="TK01-AperturaUtente">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS01-ImpostazioneAzione" Id="Process_gestioneticket_tra37" To="SYS02-Apertura">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="TK01-AperturaUtente" Id="Process_gestioneticket_tra38" To="SYS01-ImpostazioneAzione">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_ORTHOGONAL" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act15" Id="Process_gestioneticket_tra41" To="GestioneHD">
                    <Condition Type="CONDITION">Azione.contains("HD")<Expression ScriptType="text/java"/>
                    </Condition>
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <Coordinates XCoordinate="970" YCoordinate="178"/>
                        </ConnectorGraphicsInfo>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="GestioneSP" Id="Process_gestioneticket_tra42" To="Process_gestioneticket_act15">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act15" Id="Process_gestioneticket_tra43" To="GestioneSP">
                    <Condition Type="CONDITION">Azione.contains("SP");<Expression ScriptType="text/java"/>
                    </Condition>
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,102,102" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE">
                            <Coordinates XCoordinate="1022" YCoordinate="316"/>
                        </ConnectorGraphicsInfo>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS17-Fine" Id="Process_gestioneticket_tra46" To="Process_gestioneticket_act14">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="TK03-AperturaHD" Id="Process_gestioneticket_tra78" To="SYS03-ImpostazioneAzione">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act29" Id="Process_gestioneticket_tra13" To="TK10-AperturaSP">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="TK10-AperturaSP" Id="Process_gestioneticket_tra19" To="SYS10-ImpostazioneAzione">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS10-ImpostazioneAzione" Id="Process_gestioneticket_tra21" To="GestioneSP">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS02-Apertura" Id="Process_gestioneticket_tra33" To="GestioneHD">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS01-ImpostazioneAzione1" Id="Process_gestioneticket_tra114" To="SYS02-Apertura">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act1" Id="Process_gestioneticket_tra115" To="TK02-AperturaTask">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="TK02-AperturaTask" Id="Process_gestioneticket_tra116" To="SYS01-ImpostazioneAzione1">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="Process_gestioneticket_act2" Id="Process_gestioneticket_tra118" To="TK03a-AperturaSistemistica">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="TK03a-AperturaSistemistica" Id="Process_gestioneticket_tra119" To="SYS03a-ImpostazioneAzione">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
                <Transition From="SYS03a-ImpostazioneAzione" Id="Process_gestioneticket_tra122" To="SYS02-Apertura">
                    <ConnectorGraphicsInfos>
                        <ConnectorGraphicsInfo FillColor="0,0,0" IsVisible="true" Style="NO_ROUTING_SPLINE" ToolId="JaWE"/>
                    </ConnectorGraphicsInfos>
                </Transition>
            </Transitions>
            <ExtendedAttributes>
                <ExtendedAttribute Name="cmdbuildBindToClass" Value="GestioneTicket"/>
            </ExtendedAttributes>
        </WorkflowProcess>
    </WorkflowProcesses>
    <ExtendedAttributes>
        <ExtendedAttribute Name="EDITING_TOOL" Value="Together Workflow Editor"/>
        <ExtendedAttribute Name="EDITING_TOOL_VERSION" Value="4.4-1-20120111-0622"/>
        <ExtendedAttribute Name="JaWE_CONFIGURATION" Value="shark"/>
    </ExtendedAttributes>
</Package>
